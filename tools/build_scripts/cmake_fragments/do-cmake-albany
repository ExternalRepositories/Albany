#! /bin/bash -xe

/bin/rm -f CMakeCache.txt

SOURCE_DIR=${ALBDIR:-..}

cmake \
    -D ALBANY_TRILINOS_DIR:FILEPATH=${TRILINSTALLDIR:?TRILINSTALLDIR must be set} \
    -D CMAKE_BUILD_TYPE:STRING=$ALBANY_BUILD_MODE \
    -D CMAKE_VERBOSE_MAKEFILE:BOOL=${ALBANY_VERBOSE_MAKEFILE:-OFF} \
    -D ALBANY_CXX_FLAGS:STRING="$ALBANY_CXX_FLAGS" \
    -D ENABLE_LCM:BOOL=${ALBANY_LCM:-OFF} \
    -D ENABLE_SG_MP:BOOL=${ALBANY_LCM:-OFF} \
    $SOURCE_DIR
