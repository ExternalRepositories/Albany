<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Albany: a Trilinos-based PDE code: Albany_STKDiscretization.hpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<h1>Albany_STKDiscretization.hpp</h1>  </div>
</div>
<div class="contents">
<a href="Albany__STKDiscretization_8hpp.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">//*****************************************************************//</span>
<a name="l00002"></a>00002 <span class="comment">//    Albany 2.0:  Copyright 2012 Sandia Corporation               //</span>
<a name="l00003"></a>00003 <span class="comment">//    This Software is released under the BSD license detailed     //</span>
<a name="l00004"></a>00004 <span class="comment">//    in the file &quot;license.txt&quot; in the top-level Albany directory  //</span>
<a name="l00005"></a>00005 <span class="comment">//*****************************************************************//</span>
<a name="l00006"></a>00006 
<a name="l00007"></a>00007 <span class="preprocessor">#ifndef ALBANY_STKDISCRETIZATION_HPP</span>
<a name="l00008"></a>00008 <span class="preprocessor"></span><span class="preprocessor">#define ALBANY_STKDISCRETIZATION_HPP</span>
<a name="l00009"></a>00009 <span class="preprocessor"></span>
<a name="l00010"></a>00010 <span class="preprocessor">#include &lt;vector&gt;</span>
<a name="l00011"></a>00011 <span class="preprocessor">#include &lt;utility&gt;</span>
<a name="l00012"></a>00012 
<a name="l00013"></a>00013 <span class="preprocessor">#include &quot;Teuchos_ParameterList.hpp&quot;</span>
<a name="l00014"></a>00014 <span class="preprocessor">#include &quot;Teuchos_VerboseObject.hpp&quot;</span>
<a name="l00015"></a>00015 
<a name="l00016"></a>00016 <span class="preprocessor">#include &quot;Epetra_Comm.h&quot;</span>
<a name="l00017"></a>00017 
<a name="l00018"></a>00018 <span class="preprocessor">#include &quot;<a class="code" href="Albany__AbstractDiscretization_8hpp.html">Albany_AbstractDiscretization.hpp</a>&quot;</span>
<a name="l00019"></a>00019 <span class="preprocessor">#include &quot;<a class="code" href="Albany__AbstractSTKMeshStruct_8hpp.html">Albany_AbstractSTKMeshStruct.hpp</a>&quot;</span>
<a name="l00020"></a>00020 
<a name="l00021"></a>00021 <span class="preprocessor">#include &quot;Epetra_CrsMatrix.h&quot;</span>
<a name="l00022"></a>00022 <span class="preprocessor">#include &quot;Epetra_Vector.h&quot;</span>
<a name="l00023"></a>00023 
<a name="l00024"></a>00024 <span class="preprocessor">#include &quot;Piro_NullSpaceUtils.hpp&quot;</span> <span class="comment">// has defn of struct that holds null space info for ML</span>
<a name="l00025"></a>00025 
<a name="l00026"></a>00026 <span class="comment">// Start of STK stuff</span>
<a name="l00027"></a>00027 <span class="preprocessor">#include &lt;stk_util/parallel/Parallel.hpp&gt;</span>
<a name="l00028"></a>00028 <span class="preprocessor">#include &lt;stk_mesh/base/Types.hpp&gt;</span>
<a name="l00029"></a>00029 <span class="preprocessor">#include &lt;stk_mesh/base/MetaData.hpp&gt;</span>
<a name="l00030"></a>00030 <span class="preprocessor">#include &lt;stk_mesh/base/BulkData.hpp&gt;</span>
<a name="l00031"></a>00031 <span class="preprocessor">#include &lt;stk_mesh/base/Field.hpp&gt;</span>
<a name="l00032"></a>00032 <span class="preprocessor">#include &lt;stk_mesh/base/FieldTraits.hpp&gt;</span>
<a name="l00033"></a>00033 <span class="preprocessor">#ifdef ALBANY_SEACAS</span>
<a name="l00034"></a>00034 <span class="preprocessor"></span><span class="preprocessor">  #include &lt;stk_io/MeshReadWriteUtils.hpp&gt;</span>
<a name="l00035"></a>00035 <span class="preprocessor">#endif</span>
<a name="l00036"></a>00036 <span class="preprocessor"></span>
<a name="l00037"></a>00037 
<a name="l00038"></a>00038 <span class="keyword">namespace </span>Albany {
<a name="l00039"></a>00039 
<a name="l00040"></a><a class="code" href="structAlbany_1_1MeshGraph.html">00040</a>   <span class="keyword">struct </span><a class="code" href="structAlbany_1_1MeshGraph.html">MeshGraph</a> {
<a name="l00041"></a>00041 
<a name="l00042"></a><a class="code" href="structAlbany_1_1MeshGraph.html#a59f1fe07e2e0e0450920e591300e889a">00042</a>        std::vector&lt;std::size_t&gt; <a class="code" href="structAlbany_1_1MeshGraph.html#a59f1fe07e2e0e0450920e591300e889a">start</a>;
<a name="l00043"></a><a class="code" href="structAlbany_1_1MeshGraph.html#a9decf52ab5d408adfdcc7061aeca46fd">00043</a>        std::vector&lt;std::size_t&gt; <a class="code" href="structAlbany_1_1MeshGraph.html#a9decf52ab5d408adfdcc7061aeca46fd">adj</a>;
<a name="l00044"></a>00044 
<a name="l00045"></a>00045   };
<a name="l00046"></a>00046 
<a name="l00047"></a><a class="code" href="classAlbany_1_1STKDiscretization.html">00047</a>   <span class="keyword">class </span><a class="code" href="classAlbany_1_1STKDiscretization.html">STKDiscretization</a> : <span class="keyword">public</span> Albany::<a class="code" href="classAlbany_1_1AbstractDiscretization.html">AbstractDiscretization</a> {
<a name="l00048"></a>00048   <span class="keyword">public</span>:
<a name="l00049"></a>00049 
<a name="l00051"></a>00051     <a class="code" href="classAlbany_1_1STKDiscretization.html#ad7e9f3300f9f4b9fabe4d4c681bfef98" title="Constructor.">STKDiscretization</a>(
<a name="l00052"></a>00052        Teuchos::RCP&lt;Albany::AbstractSTKMeshStruct&gt; <a class="code" href="classAlbany_1_1STKDiscretization.html#a9cec6b54f9d73412a7c5879d0f5335cc">stkMeshStruct</a>,
<a name="l00053"></a>00053        <span class="keyword">const</span> Teuchos::RCP&lt;const Epetra_Comm&gt;&amp; <a class="code" href="classAlbany_1_1STKDiscretization.html#a8f1060bd41ba7b2904cbabb0cac84455" title="Epetra communicator.">comm</a>,
<a name="l00054"></a>00054        <span class="keyword">const</span> Teuchos::RCP&lt;Piro::MLRigidBodyModes&gt;&amp; <a class="code" href="classAlbany_1_1STKDiscretization.html#a8eb6e89874b31e503d171bede7f0f9ac">rigidBodyModes</a> = Teuchos::null);
<a name="l00055"></a>00055 
<a name="l00056"></a>00056 
<a name="l00058"></a>00058     <a class="code" href="classAlbany_1_1STKDiscretization.html#a0d9695651aab8cf4dd8609a3ecc13fe1" title="Destructor.">~STKDiscretization</a>();
<a name="l00059"></a>00059 
<a name="l00061"></a>00061     Teuchos::RCP&lt;const Epetra_Map&gt; <a class="code" href="classAlbany_1_1STKDiscretization.html#a558e6f2799d76dc0987a1021b0cc7003" title="Get DOF map.">getMap</a>() <span class="keyword">const</span>;
<a name="l00062"></a>00062 
<a name="l00064"></a>00064     Teuchos::RCP&lt;const Epetra_Map&gt; <a class="code" href="classAlbany_1_1STKDiscretization.html#ada9947d066e36de861396c569b53e515" title="Get overlapped DOF map.">getOverlapMap</a>() <span class="keyword">const</span>;
<a name="l00065"></a>00065 
<a name="l00067"></a>00067     Teuchos::RCP&lt;const Epetra_CrsGraph&gt; <a class="code" href="classAlbany_1_1STKDiscretization.html#ae10eed3bad59b167352f9a765a6decef" title="Get Jacobian graph.">getJacobianGraph</a>() <span class="keyword">const</span>;
<a name="l00068"></a>00068 
<a name="l00070"></a>00070     Teuchos::RCP&lt;const Epetra_CrsGraph&gt; <a class="code" href="classAlbany_1_1STKDiscretization.html#afbb3a8c0b781f95d6d2a3285dabc10eb" title="Get overlap Jacobian graph.">getOverlapJacobianGraph</a>() <span class="keyword">const</span>;
<a name="l00071"></a>00071 
<a name="l00073"></a>00073     Teuchos::RCP&lt;const Epetra_Map&gt; <a class="code" href="classAlbany_1_1STKDiscretization.html#af3cbcd9c71deea48be8b225be9fb762b" title="Get Node map.">getNodeMap</a>() <span class="keyword">const</span>;
<a name="l00074"></a>00074 
<a name="l00076"></a><a class="code" href="classAlbany_1_1STKDiscretization.html#aa5a7709b392334338d039dcdcecd1727">00076</a>     <span class="keyword">const</span> <a class="code" href="namespaceAlbany.html#ac6fb9ef9b5bb66848b3ed2926c552894">NodeSetList</a>&amp; <a class="code" href="classAlbany_1_1STKDiscretization.html#aa5a7709b392334338d039dcdcecd1727" title="Get Node set lists (typedef in Albany_AbstractDiscretization.hpp).">getNodeSets</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classAlbany_1_1STKDiscretization.html#ad40d96e53095960c5fa58bfa0dcc6f8e" title="node sets stored as std::map(string ID, int vector of GIDs)">nodeSets</a>; };
<a name="l00077"></a><a class="code" href="classAlbany_1_1STKDiscretization.html#a1dc9e70d1efc020f102d3182ff1242eb">00077</a>     <span class="keyword">const</span> <a class="code" href="namespaceAlbany.html#ad41143a14c776475291e32beedece98a">NodeSetCoordList</a>&amp; <a class="code" href="classAlbany_1_1STKDiscretization.html#a1dc9e70d1efc020f102d3182ff1242eb">getNodeSetCoords</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classAlbany_1_1STKDiscretization.html#addc4e2e4c57b2041b84f09a08a46e6cb">nodeSetCoords</a>; };
<a name="l00078"></a>00078 
<a name="l00080"></a><a class="code" href="classAlbany_1_1STKDiscretization.html#adea619448aa63733ced35755f9611494">00080</a>     <span class="keyword">const</span> <a class="code" href="namespaceAlbany.html#aa0bc1b08430527fdeb81b86e76b48e1e">SideSetList</a>&amp; <a class="code" href="classAlbany_1_1STKDiscretization.html#adea619448aa63733ced35755f9611494" title="Get Side set lists (typedef in Albany_AbstractDiscretization.hpp).">getSideSets</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> workset)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classAlbany_1_1STKDiscretization.html#a87dfe5a76419096fc505dd0b3b2fb6ea" title="side sets stored as std::map(string ID, SideArray classes) per workset (std::vector across worksets)...">sideSets</a>[workset]; };
<a name="l00081"></a>00081 
<a name="l00083"></a><a class="code" href="classAlbany_1_1STKDiscretization.html#a754088ba9d9075b6638a4fad1c18f31a">00083</a>     <a class="code" href="namespaceAlbany.html#af11daa75105be6e470b4271a6a7295cb">WsLIDList</a>&amp; <a class="code" href="classAlbany_1_1STKDiscretization.html#a754088ba9d9075b6638a4fad1c18f31a" title="Get connectivity map from elementGID to workset.">getElemGIDws</a>() { <span class="keywordflow">return</span> <a class="code" href="classAlbany_1_1STKDiscretization.html#a5d79536cef04ef59e0ebb80f43c37b85" title="Connectivity map from elementGID to workset and LID in workset.">elemGIDws</a>; };
<a name="l00084"></a>00084 
<a name="l00086"></a>00086     <span class="keyword">const</span> <a class="code" href="structAlbany_1_1WorksetArray.html">Albany::WorksetArray&lt;Teuchos::ArrayRCP&lt;Teuchos::ArrayRCP&lt;Teuchos::ArrayRCP&lt;int&gt;</a> &gt; &gt; &gt;::type&amp; <a class="code" href="classAlbany_1_1STKDiscretization.html#a812e07c1175ff5445c58e9f4c58a09d7" title="Get map from (Ws, El, Local Node) -&amp;gt; NodeLID.">getWsElNodeEqID</a>() <span class="keyword">const</span>;
<a name="l00087"></a>00087 
<a name="l00088"></a>00088     <span class="keyword">const</span> <a class="code" href="structAlbany_1_1WorksetArray.html">Albany::WorksetArray&lt;Teuchos::ArrayRCP&lt;Teuchos::ArrayRCP&lt;int&gt;</a> &gt; &gt;::type&amp; <a class="code" href="classAlbany_1_1STKDiscretization.html#a01e66714e88f2e8619ef64e9efd470d4">getWsElNodeID</a>() <span class="keyword">const</span>;
<a name="l00089"></a>00089 
<a name="l00091"></a>00091     Teuchos::ArrayRCP&lt;double&gt;&amp; <a class="code" href="classAlbany_1_1STKDiscretization.html#a1c19dcfea2dad79a0880d611159cb68a" title="Retrieve coodinate vector (num_used_nodes * 3).">getCoordinates</a>() <span class="keyword">const</span>;
<a name="l00092"></a>00092 
<a name="l00093"></a>00093     <span class="keyword">const</span> <a class="code" href="structAlbany_1_1WorksetArray.html">Albany::WorksetArray&lt;Teuchos::ArrayRCP&lt;Teuchos::ArrayRCP&lt;double*&gt;</a> &gt; &gt;::type&amp; <a class="code" href="classAlbany_1_1STKDiscretization.html#a43aa5d8a56f323265f2246767177d6d7">getCoords</a>() <span class="keyword">const</span>;
<a name="l00094"></a>00094     <span class="keyword">const</span> <a class="code" href="structAlbany_1_1WorksetArray.html">Albany::WorksetArray&lt;Teuchos::ArrayRCP&lt;Teuchos::ArrayRCP&lt;double&gt;</a> &gt; &gt;::type&amp; <a class="code" href="classAlbany_1_1STKDiscretization.html#ae9bf47656d4c81bea750ef17bc3f818e">getSurfaceHeight</a>() <span class="keyword">const</span>;
<a name="l00095"></a>00095     <span class="keyword">const</span> <a class="code" href="structAlbany_1_1WorksetArray.html">Albany::WorksetArray&lt;Teuchos::ArrayRCP&lt;double&gt;</a> &gt;::type&amp; <a class="code" href="classAlbany_1_1STKDiscretization.html#a9221093e4cfef2de9b6784530f89e668">getTemperature</a>() <span class="keyword">const</span>;
<a name="l00096"></a>00096     <span class="keyword">const</span> <a class="code" href="structAlbany_1_1WorksetArray.html">Albany::WorksetArray&lt;Teuchos::ArrayRCP&lt;Teuchos::ArrayRCP&lt;double&gt;</a> &gt; &gt;::type&amp; <a class="code" href="classAlbany_1_1STKDiscretization.html#afacc771e6986ee820575f7ce7656723a">getBasalFriction</a>() <span class="keyword">const</span>;
<a name="l00097"></a>00097     <span class="keyword">const</span> <a class="code" href="structAlbany_1_1WorksetArray.html">Albany::WorksetArray&lt;Teuchos::ArrayRCP&lt;Teuchos::ArrayRCP&lt;double&gt;</a> &gt; &gt;::type&amp; <a class="code" href="classAlbany_1_1STKDiscretization.html#a9000ad13be917e6e334e424db6f4c21a">getThickness</a>() <span class="keyword">const</span>;
<a name="l00098"></a>00098     <span class="keyword">const</span> <a class="code" href="structAlbany_1_1WorksetArray.html">Albany::WorksetArray&lt;Teuchos::ArrayRCP&lt;double&gt;</a> &gt;::type&amp; <a class="code" href="classAlbany_1_1STKDiscretization.html#af8df8f5e2e5ff5bd027e00e92870add4">getFlowFactor</a>() <span class="keyword">const</span>;
<a name="l00099"></a>00099     <span class="keyword">const</span> <a class="code" href="structAlbany_1_1WorksetArray.html">Albany::WorksetArray&lt;Teuchos::ArrayRCP&lt;Teuchos::ArrayRCP&lt;double*&gt;</a> &gt; &gt;::type&amp; <a class="code" href="classAlbany_1_1STKDiscretization.html#a434ecaa0e2ccda48590fe38942e44c43">getSurfaceVelocity</a>() <span class="keyword">const</span>;
<a name="l00100"></a>00100     <span class="keyword">const</span> <a class="code" href="structAlbany_1_1WorksetArray.html">Albany::WorksetArray&lt;Teuchos::ArrayRCP&lt;Teuchos::ArrayRCP&lt;double*&gt;</a> &gt; &gt;::type&amp; <a class="code" href="classAlbany_1_1STKDiscretization.html#a086e7d462918f80126ca6e244d5c0ffa">getVelocityRMS</a>() <span class="keyword">const</span>;
<a name="l00101"></a>00101 
<a name="l00103"></a>00103 
<a name="l00104"></a>00104     <span class="keywordtype">void</span> <a class="code" href="classAlbany_1_1STKDiscretization.html#a6951508d76a05ebbf1715796b3e19324" title="Print the coordinates for debugging.">printCoords</a>() <span class="keyword">const</span>;
<a name="l00105"></a>00105 
<a name="l00106"></a><a class="code" href="classAlbany_1_1STKDiscretization.html#a11ed6ac7312cd6998c57d44bdc88ae9f">00106</a>     <a class="code" href="structAlbany_1_1StateArrays.html">Albany::StateArrays</a>&amp; <a class="code" href="classAlbany_1_1STKDiscretization.html#a11ed6ac7312cd6998c57d44bdc88ae9f">getStateArrays</a>() {<span class="keywordflow">return</span> <a class="code" href="classAlbany_1_1STKDiscretization.html#a3288951a08528ecf0cfe7ff9efdfe3ae">stateArrays</a>;}
<a name="l00107"></a>00107 
<a name="l00109"></a>00109     <span class="keyword">const</span> <a class="code" href="structAlbany_1_1WorksetArray.html#a2251678748f133c70ad2b97345319967">Albany::WorksetArray&lt;std::string&gt;::type</a>&amp;  <a class="code" href="classAlbany_1_1STKDiscretization.html#a3f2583bc2b17c2a2fb62ca9a4a1a5298" title="Retrieve Vector (length num worksets) of element block names.">getWsEBNames</a>() <span class="keyword">const</span>;
<a name="l00111"></a>00111     <span class="keyword">const</span> <a class="code" href="structAlbany_1_1WorksetArray.html#a2251678748f133c70ad2b97345319967">Albany::WorksetArray&lt;int&gt;::type</a>&amp;  <a class="code" href="classAlbany_1_1STKDiscretization.html#a7e1ed26317e9ad74dd8eb69853e15b8a" title="Retrieve Vector (length num worksets) of physics set index.">getWsPhysIndex</a>() <span class="keyword">const</span>;
<a name="l00112"></a>00112 
<a name="l00113"></a>00113     <span class="keywordtype">void</span> <a class="code" href="classAlbany_1_1STKDiscretization.html#a004b2f37eea0f9c93abecef09db3c52f" title="Write the solution to the output file.">writeSolution</a>(<span class="keyword">const</span> Epetra_Vector&amp; soln, <span class="keyword">const</span> <span class="keywordtype">double</span> time, <span class="keyword">const</span> <span class="keywordtype">bool</span> overlapped = <span class="keyword">false</span>);
<a name="l00114"></a>00114 
<a name="l00115"></a>00115     Teuchos::RCP&lt;Epetra_Vector&gt; <a class="code" href="classAlbany_1_1STKDiscretization.html#ae813d58d74cedc64d0bfc59f2558d49d" title="Get solution vector from mesh database.">getSolutionField</a>() <span class="keyword">const</span>;
<a name="l00116"></a>00116 
<a name="l00117"></a>00117     <span class="keywordtype">int</span> <a class="code" href="classAlbany_1_1STKDiscretization.html#a682d2fd027084c82acf9c4beca64c847">getSolutionFieldHistoryDepth</a>() <span class="keyword">const</span>;
<a name="l00118"></a>00118     Teuchos::RCP&lt;Epetra_MultiVector&gt; <a class="code" href="classAlbany_1_1STKDiscretization.html#a9732f44435fc42b4546b5aa3b61d2b04">getSolutionFieldHistory</a>() <span class="keyword">const</span>;
<a name="l00119"></a>00119     Teuchos::RCP&lt;Epetra_MultiVector&gt; <a class="code" href="classAlbany_1_1STKDiscretization.html#a9732f44435fc42b4546b5aa3b61d2b04">getSolutionFieldHistory</a>(<span class="keywordtype">int</span> maxStepCount) <span class="keyword">const</span>;
<a name="l00120"></a>00120     <span class="keywordtype">void</span> <a class="code" href="classAlbany_1_1STKDiscretization.html#a9732f44435fc42b4546b5aa3b61d2b04">getSolutionFieldHistory</a>(Epetra_MultiVector &amp;result) <span class="keyword">const</span>;
<a name="l00121"></a>00121 
<a name="l00122"></a>00122     <span class="keywordtype">void</span> <a class="code" href="classAlbany_1_1STKDiscretization.html#a3f26f7703afe921fe808d354d3f4cc53" title="Set the residual field for output.">setResidualField</a>(<span class="keyword">const</span> Epetra_Vector&amp; residual);
<a name="l00123"></a>00123 
<a name="l00124"></a>00124     <span class="comment">// Retrieve mesh struct</span>
<a name="l00125"></a><a class="code" href="classAlbany_1_1STKDiscretization.html#ad4a8be0e1317b2a4842ee59e31eb6130">00125</a>     Teuchos::RCP&lt;Albany::AbstractSTKMeshStruct&gt; <a class="code" href="classAlbany_1_1STKDiscretization.html#ad4a8be0e1317b2a4842ee59e31eb6130">getSTKMeshStruct</a>() {<span class="keywordflow">return</span> stkMeshStruct;}
<a name="l00126"></a><a class="code" href="classAlbany_1_1STKDiscretization.html#a0dae35db80054b0c2933759a8f76f70b">00126</a>     Teuchos::RCP&lt;Albany::AbstractMeshStruct&gt; <a class="code" href="classAlbany_1_1STKDiscretization.html#a0dae35db80054b0c2933759a8f76f70b">getMeshStruct</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> stkMeshStruct;}
<a name="l00127"></a>00127 
<a name="l00129"></a><a class="code" href="classAlbany_1_1STKDiscretization.html#acfc83ab6faee9d1bb010ece56ff2b3ce">00129</a>     <span class="keywordtype">bool</span> <a class="code" href="classAlbany_1_1STKDiscretization.html#acfc83ab6faee9d1bb010ece56ff2b3ce" title="Flag if solution has a restart values -- used in Init Cond.">hasRestartSolution</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> stkMeshStruct-&gt;hasRestartSolution();}
<a name="l00130"></a>00130 
<a name="l00132"></a><a class="code" href="classAlbany_1_1STKDiscretization.html#af8f4d3d4278c252e0f45e2db144c1f77">00132</a>     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classAlbany_1_1STKDiscretization.html#af8f4d3d4278c252e0f45e2db144c1f77" title="STK supports MOR.">supportsMOR</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <span class="keyword">true</span>; }
<a name="l00133"></a>00133 
<a name="l00135"></a><a class="code" href="classAlbany_1_1STKDiscretization.html#af92c6eb5e88dc072eff0ec3e4a1b3837">00135</a>     <span class="keywordtype">double</span> <a class="code" href="classAlbany_1_1STKDiscretization.html#af92c6eb5e88dc072eff0ec3e4a1b3837" title="If restarting, convenience function to return restart data time.">restartDataTime</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> stkMeshStruct-&gt;restartDataTime();}
<a name="l00136"></a>00136 
<a name="l00138"></a>00138     <span class="keywordtype">void</span> <a class="code" href="classAlbany_1_1STKDiscretization.html#ad5dac2bbc4d548d84c1f0db9f7275f78" title="After mesh modification, need to update the element connectivity and nodal coordinates.">updateMesh</a>();
<a name="l00139"></a>00139 
<a name="l00141"></a>00141     <span class="keywordtype">void</span> <a class="code" href="classAlbany_1_1STKDiscretization.html#ac14ce93957277e452addc88c1a8d8905" title="Function that transforms an STK mesh of a unit cube (for FELIX problems).">transformMesh</a>();
<a name="l00142"></a>00142 
<a name="l00144"></a>00144     <span class="keywordtype">void</span> <a class="code" href="classAlbany_1_1STKDiscretization.html#a017990564a1c6c22f9b1df3b6dab50d2" title="Close current exodus file in stk_io and create a new one for an adapted mesh and new results...">reNameExodusOutput</a>(std::string&amp; filename);
<a name="l00145"></a>00145 
<a name="l00147"></a><a class="code" href="classAlbany_1_1STKDiscretization.html#af924ed321b1893698b0f1e89527ed213">00147</a>     <span class="keywordtype">int</span> <a class="code" href="classAlbany_1_1STKDiscretization.html#af924ed321b1893698b0f1e89527ed213" title="Get number of spatial dimensions.">getNumDim</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> stkMeshStruct-&gt;numDim; }
<a name="l00148"></a>00148 
<a name="l00150"></a><a class="code" href="classAlbany_1_1STKDiscretization.html#ab705a379687a5b37ff40e0816d535161">00150</a>     <span class="keywordtype">int</span> <a class="code" href="classAlbany_1_1STKDiscretization.html#ab705a379687a5b37ff40e0816d535161" title="Get number of total DOFs per node.">getNumEq</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classAlbany_1_1STKDiscretization.html#aff73025620a17789769f06b3a8ac7428" title="Number of equations (and unknowns) per node.">neq</a>; }
<a name="l00151"></a>00151 
<a name="l00153"></a>00153     <span class="keywordtype">int</span> <a class="code" href="classAlbany_1_1STKDiscretization.html#aaee464f8a7390571d4d9b2090d30c588" title="Locate nodal dofs in non-overlapping vectors using local indexing.">getOwnedDOF</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> inode, <span class="keyword">const</span> <span class="keywordtype">int</span> eq) <span class="keyword">const</span>;
<a name="l00154"></a>00154 
<a name="l00156"></a>00156     <span class="keywordtype">int</span> <a class="code" href="classAlbany_1_1STKDiscretization.html#a04d345896b258962f4975aa0f36e173a" title="Locate nodal dofs in overlapping vectors using local indexing.">getOverlapDOF</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> inode, <span class="keyword">const</span> <span class="keywordtype">int</span> eq) <span class="keyword">const</span>;
<a name="l00157"></a>00157 
<a name="l00159"></a>00159     <span class="keywordtype">int</span> <a class="code" href="classAlbany_1_1STKDiscretization.html#a4aa3b5f66486b51fb025f4157e2f76e5" title="Locate nodal dofs using global indexing.">getGlobalDOF</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> inode, <span class="keyword">const</span> <span class="keywordtype">int</span> eq) <span class="keyword">const</span>;
<a name="l00160"></a>00160 
<a name="l00161"></a>00161 
<a name="l00163"></a>00163     <span class="comment">// Each struct contains a latitude/longitude index and it&#39;s parametric</span>
<a name="l00164"></a>00164     <span class="comment">// coordinates in an element.</span>
<a name="l00165"></a><a class="code" href="structAlbany_1_1STKDiscretization_1_1interp.html">00165</a>     <span class="keyword">struct </span><a class="code" href="structAlbany_1_1STKDiscretization_1_1interp.html" title="used when NetCDF output on a latitude-longitude grid is requested.">interp</a> {
<a name="l00166"></a><a class="code" href="structAlbany_1_1STKDiscretization_1_1interp.html#a04b5ca2797b421f1f112b6600f8f981d">00166</a>       std::pair&lt;double, double&gt; <a class="code" href="structAlbany_1_1STKDiscretization_1_1interp.html#a04b5ca2797b421f1f112b6600f8f981d">parametric_coords</a>;
<a name="l00167"></a><a class="code" href="structAlbany_1_1STKDiscretization_1_1interp.html#a87229a2245902ce60422b71265ddaea3">00167</a>       std::pair&lt;unsigned, unsigned&gt; <a class="code" href="structAlbany_1_1STKDiscretization_1_1interp.html#a87229a2245902ce60422b71265ddaea3">latitude_longitude</a>;
<a name="l00168"></a>00168     };
<a name="l00169"></a>00169   <span class="keyword">private</span>:
<a name="l00170"></a>00170 
<a name="l00172"></a>00172     <a class="code" href="classAlbany_1_1STKDiscretization.html#ad7e9f3300f9f4b9fabe4d4c681bfef98" title="Constructor.">STKDiscretization</a>(<span class="keyword">const</span> <a class="code" href="classAlbany_1_1STKDiscretization.html">STKDiscretization</a>&amp;);
<a name="l00173"></a>00173 
<a name="l00175"></a>00175     <a class="code" href="classAlbany_1_1STKDiscretization.html">STKDiscretization</a>&amp; <a class="code" href="classAlbany_1_1STKDiscretization.html#a4cd2e2df5d88407cf5dcdc03dfbdbb70" title="Private to prohibit copying.">operator=</a>(<span class="keyword">const</span> <a class="code" href="classAlbany_1_1STKDiscretization.html">STKDiscretization</a>&amp;);
<a name="l00176"></a>00176 
<a name="l00177"></a>00177     <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="classAlbany_1_1STKDiscretization.html#a0e30dfebd265ae16423946ccefcf5253">gid</a>(<span class="keyword">const</span> <a class="code" href="namespaceAAdapt.html#a6e672c66f1cfcf2ba9f8baf4a51e0381">stk::mesh::Entity</a>&amp; node) <span class="keyword">const</span>;
<a name="l00178"></a>00178     <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="classAlbany_1_1STKDiscretization.html#a0e30dfebd265ae16423946ccefcf5253">gid</a>(<span class="keyword">const</span> <a class="code" href="namespaceAAdapt.html#a6e672c66f1cfcf2ba9f8baf4a51e0381">stk::mesh::Entity</a>* node) <span class="keyword">const</span>;
<a name="l00179"></a>00179 
<a name="l00180"></a>00180     <span class="comment">// Copy values from STK Mesh field to given Epetra_Vector</span>
<a name="l00181"></a>00181     <span class="keywordtype">void</span> <a class="code" href="classAlbany_1_1STKDiscretization.html#ae813d58d74cedc64d0bfc59f2558d49d" title="Get solution vector from mesh database.">getSolutionField</a>(Epetra_Vector &amp;result) <span class="keyword">const</span>;
<a name="l00182"></a>00182 
<a name="l00183"></a>00183     Teuchos::RCP&lt;Epetra_MultiVector&gt; <a class="code" href="classAlbany_1_1STKDiscretization.html#a61cc50e341c9fb32ec1282d813a192ea">getSolutionFieldHistoryImpl</a>(<span class="keywordtype">int</span> stepCount) <span class="keyword">const</span>;
<a name="l00184"></a>00184     <span class="keywordtype">void</span> <a class="code" href="classAlbany_1_1STKDiscretization.html#a61cc50e341c9fb32ec1282d813a192ea">getSolutionFieldHistoryImpl</a>(Epetra_MultiVector &amp;result) <span class="keyword">const</span>;
<a name="l00185"></a>00185 
<a name="l00186"></a>00186     <span class="comment">// Copy solution vector from Epetra_Vector into STK Mesh</span>
<a name="l00187"></a>00187     <span class="comment">// Here soln is the local (non overlapped) solution</span>
<a name="l00188"></a>00188     <span class="keywordtype">void</span> <a class="code" href="classAlbany_1_1STKDiscretization.html#a8b4619518fac1976d61afcc558e98af7">setSolutionField</a>(<span class="keyword">const</span> Epetra_Vector&amp; soln);
<a name="l00189"></a>00189 
<a name="l00190"></a>00190     <span class="comment">// Copy solution vector from Epetra_Vector into STK Mesh</span>
<a name="l00191"></a>00191     <span class="comment">// Here soln is the local + neighbor (overlapped) solution</span>
<a name="l00192"></a>00192     <span class="keywordtype">void</span> <a class="code" href="classAlbany_1_1STKDiscretization.html#ac6b821bad8dcb7f7c225df80b4b0430e">setOvlpSolutionField</a>(<span class="keyword">const</span> Epetra_Vector&amp; soln);
<a name="l00193"></a>00193 
<a name="l00194"></a>00194     <span class="keywordtype">int</span> <a class="code" href="classAlbany_1_1STKDiscretization.html#a53b7ecd8e2c8f56ba98632a2e106042b">nonzeroesPerRow</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classAlbany_1_1STKDiscretization.html#aff73025620a17789769f06b3a8ac7428" title="Number of equations (and unknowns) per node.">neq</a>) <span class="keyword">const</span>;
<a name="l00195"></a>00195     <span class="keywordtype">double</span> <a class="code" href="classAlbany_1_1STKDiscretization.html#a28d3e10e6a048a2823ddffb281ebd9d9">monotonicTimeLabel</a>(<span class="keyword">const</span> <span class="keywordtype">double</span> time);
<a name="l00196"></a>00196 
<a name="l00198"></a>00198     <span class="keywordtype">void</span> <a class="code" href="classAlbany_1_1STKDiscretization.html#afbf76c212116f67eaedc9bfb2c3c1464" title="Process STK mesh for Owned nodal quantitites.">computeOwnedNodesAndUnknowns</a>();
<a name="l00200"></a>00200     <span class="keywordtype">void</span> <a class="code" href="classAlbany_1_1STKDiscretization.html#ad2b5f24655684c1e1efed7e7356b01e9" title="Process coords for ML.">setupMLCoords</a>();
<a name="l00202"></a>00202     <span class="keywordtype">void</span> <a class="code" href="classAlbany_1_1STKDiscretization.html#a620565509dacf5c28d351172b9c51b8b" title="Process STK mesh for Overlap nodal quantitites.">computeOverlapNodesAndUnknowns</a>();
<a name="l00204"></a>00204     <span class="keywordtype">void</span> <a class="code" href="classAlbany_1_1STKDiscretization.html#aba4192b9c5b2a7e5ca77e1e7634318b7" title="Process STK mesh for CRS Graphs.">computeGraphs</a>();
<a name="l00206"></a>00206     <span class="keywordtype">void</span> <a class="code" href="classAlbany_1_1STKDiscretization.html#a8950d2962d151003edadd2658424f931" title="Process STK mesh for Workset/Bucket Info.">computeWorksetInfo</a>();
<a name="l00208"></a>00208     <span class="keywordtype">void</span> <a class="code" href="classAlbany_1_1STKDiscretization.html#a4cc7530b6ea21955ec42ab464ba58b56" title="Process STK mesh for NodeSets.">computeNodeSets</a>();
<a name="l00210"></a>00210     <span class="keywordtype">void</span> <a class="code" href="classAlbany_1_1STKDiscretization.html#a0c571fc5f3153f4b0d3fe930d10fe885" title="Process STK mesh for SideSets.">computeSideSets</a>();
<a name="l00212"></a>00212     <span class="keywordtype">void</span> <a class="code" href="classAlbany_1_1STKDiscretization.html#a5970626a8f7747d0ecf05ed16abfeffd" title="Call stk_io for creating exodus output file.">setupExodusOutput</a>();
<a name="l00214"></a>00214     <span class="keywordtype">void</span> <a class="code" href="classAlbany_1_1STKDiscretization.html#a24e744acc8207f554efa4bd0df3ee758" title="Call stk_io for creating NetCDF output file.">setupNetCDFOutput</a>();
<a name="l00215"></a>00215     <span class="keywordtype">int</span> <a class="code" href="classAlbany_1_1STKDiscretization.html#a1a37ea93a6d4fad70894143f5b9141be">processNetCDFOutputRequest</a>();
<a name="l00217"></a>00217     <span class="keywordtype">unsigned</span> <a class="code" href="classAlbany_1_1STKDiscretization.html#ae07c6bd96dd7f435b309583aa43ebb87" title="Find the local side id number within parent element.">determine_local_side_id</a>( <span class="keyword">const</span> <a class="code" href="namespaceAAdapt.html#a6e672c66f1cfcf2ba9f8baf4a51e0381">stk::mesh::Entity</a> &amp; elem , <a class="code" href="namespaceAAdapt.html#a6e672c66f1cfcf2ba9f8baf4a51e0381">stk::mesh::Entity</a> &amp; side );
<a name="l00219"></a><a class="code" href="classAlbany_1_1STKDiscretization.html#ab7190e5b44b7f00bb6ae7a199d217fa7">00219</a>     Teuchos::RCP&lt;Teuchos::FancyOStream&gt; <a class="code" href="classAlbany_1_1STKDiscretization.html#ab7190e5b44b7f00bb6ae7a199d217fa7" title="Call stk_io for creating exodus output file.">out</a>;
<a name="l00220"></a>00220 
<a name="l00222"></a>00222     <span class="keywordtype">void</span> <a class="code" href="classAlbany_1_1STKDiscretization.html#a88004931809859cd2d0eb79f10fa4747" title="Convert the stk mesh on this processor to a nodal graph using SEACAS.">meshToGraph</a>();
<a name="l00223"></a>00223 
<a name="l00224"></a><a class="code" href="classAlbany_1_1STKDiscretization.html#a2134cc877988853876df2d5446568d94">00224</a>     <span class="keywordtype">double</span> <a class="code" href="classAlbany_1_1STKDiscretization.html#a2134cc877988853876df2d5446568d94">previous_time_label</a>;
<a name="l00225"></a>00225 
<a name="l00226"></a>00226   <span class="keyword">protected</span>:
<a name="l00227"></a>00227 
<a name="l00228"></a>00228 
<a name="l00230"></a><a class="code" href="classAlbany_1_1STKDiscretization.html#aa451e2342da340d564e1923537461f0f">00230</a>     stk::mesh::fem::FEMMetaData&amp; <a class="code" href="classAlbany_1_1STKDiscretization.html#aa451e2342da340d564e1923537461f0f" title="Stk Mesh Objects.">metaData</a>;
<a name="l00231"></a><a class="code" href="classAlbany_1_1STKDiscretization.html#a07a1cfe823ad286c47ced333a94c691a">00231</a>     stk::mesh::BulkData&amp; <a class="code" href="classAlbany_1_1STKDiscretization.html#a07a1cfe823ad286c47ced333a94c691a">bulkData</a>;
<a name="l00232"></a>00232 
<a name="l00234"></a><a class="code" href="classAlbany_1_1STKDiscretization.html#a8f1060bd41ba7b2904cbabb0cac84455">00234</a>     Teuchos::RCP&lt;const Epetra_Comm&gt; comm;
<a name="l00235"></a>00235 
<a name="l00237"></a><a class="code" href="classAlbany_1_1STKDiscretization.html#a3817a81f64d947f48ce61daa21de9e06">00237</a>     Teuchos::RCP&lt;Epetra_Map&gt; <a class="code" href="classAlbany_1_1STKDiscretization.html#a3817a81f64d947f48ce61daa21de9e06" title="Node map.">node_map</a>;
<a name="l00238"></a>00238 
<a name="l00240"></a><a class="code" href="classAlbany_1_1STKDiscretization.html#a4e2b36fe20a1fec390793efede0a8ac9">00240</a>     Teuchos::RCP&lt;Epetra_Map&gt; <a class="code" href="classAlbany_1_1STKDiscretization.html#a4e2b36fe20a1fec390793efede0a8ac9" title="Unknown Map.">map</a>;
<a name="l00241"></a>00241 
<a name="l00243"></a><a class="code" href="classAlbany_1_1STKDiscretization.html#a04c2c91bfbe73c9f62ef2b89c50a1b7d">00243</a>     Teuchos::RCP&lt;Epetra_Map&gt; <a class="code" href="classAlbany_1_1STKDiscretization.html#a04c2c91bfbe73c9f62ef2b89c50a1b7d" title="Overlapped unknown map, and node map.">overlap_map</a>;
<a name="l00244"></a><a class="code" href="classAlbany_1_1STKDiscretization.html#add1e11b4e7887764bd677538c33a5ec1">00244</a>     Teuchos::RCP&lt;Epetra_Map&gt; <a class="code" href="classAlbany_1_1STKDiscretization.html#add1e11b4e7887764bd677538c33a5ec1">overlap_node_map</a>;
<a name="l00245"></a>00245 
<a name="l00247"></a><a class="code" href="classAlbany_1_1STKDiscretization.html#a00cd1359d5347480cb66316a158bf308">00247</a>     Teuchos::RCP&lt;Epetra_CrsGraph&gt; <a class="code" href="classAlbany_1_1STKDiscretization.html#a00cd1359d5347480cb66316a158bf308" title="Jacobian matrix graph.">graph</a>;
<a name="l00248"></a>00248 
<a name="l00250"></a><a class="code" href="classAlbany_1_1STKDiscretization.html#a01efaed38046489a546ec7b01c5ca12e">00250</a>     Teuchos::RCP&lt;Epetra_CrsGraph&gt; <a class="code" href="classAlbany_1_1STKDiscretization.html#a01efaed38046489a546ec7b01c5ca12e" title="Overlapped Jacobian matrix graph.">overlap_graph</a>;
<a name="l00251"></a>00251 
<a name="l00253"></a><a class="code" href="classAlbany_1_1STKDiscretization.html#a624be385b7e985eb6ec7f3e430650a9e">00253</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classAlbany_1_1STKDiscretization.html#a624be385b7e985eb6ec7f3e430650a9e" title="Processor ID.">myPID</a>;
<a name="l00254"></a>00254 
<a name="l00256"></a><a class="code" href="classAlbany_1_1STKDiscretization.html#aff73025620a17789769f06b3a8ac7428">00256</a>     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classAlbany_1_1STKDiscretization.html#aff73025620a17789769f06b3a8ac7428" title="Number of equations (and unknowns) per node.">neq</a>;
<a name="l00257"></a>00257 
<a name="l00259"></a><a class="code" href="classAlbany_1_1STKDiscretization.html#aee0e9b6822e840f13fd0b529ee71f343">00259</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classAlbany_1_1STKDiscretization.html#aee0e9b6822e840f13fd0b529ee71f343" title="Number of elements on this processor.">numMyElements</a>;
<a name="l00260"></a>00260 
<a name="l00262"></a><a class="code" href="classAlbany_1_1STKDiscretization.html#ad40d96e53095960c5fa58bfa0dcc6f8e">00262</a>     <a class="code" href="namespaceAlbany.html#ac6fb9ef9b5bb66848b3ed2926c552894">Albany::NodeSetList</a> <a class="code" href="classAlbany_1_1STKDiscretization.html#ad40d96e53095960c5fa58bfa0dcc6f8e" title="node sets stored as std::map(string ID, int vector of GIDs)">nodeSets</a>;
<a name="l00263"></a><a class="code" href="classAlbany_1_1STKDiscretization.html#addc4e2e4c57b2041b84f09a08a46e6cb">00263</a>     <a class="code" href="namespaceAlbany.html#ad41143a14c776475291e32beedece98a">Albany::NodeSetCoordList</a> <a class="code" href="classAlbany_1_1STKDiscretization.html#addc4e2e4c57b2041b84f09a08a46e6cb">nodeSetCoords</a>;
<a name="l00264"></a>00264 
<a name="l00266"></a><a class="code" href="classAlbany_1_1STKDiscretization.html#a87dfe5a76419096fc505dd0b3b2fb6ea">00266</a>     std::vector&lt;Albany::SideSetList&gt; <a class="code" href="classAlbany_1_1STKDiscretization.html#a87dfe5a76419096fc505dd0b3b2fb6ea" title="side sets stored as std::map(string ID, SideArray classes) per workset (std::vector across worksets)...">sideSets</a>;
<a name="l00267"></a>00267 
<a name="l00269"></a><a class="code" href="classAlbany_1_1STKDiscretization.html#aed47a34b5f0e43f2c840a4f0f136edc4">00269</a>     <a class="code" href="structAlbany_1_1WorksetArray.html">Albany::WorksetArray&lt;Teuchos::ArrayRCP&lt;Teuchos::ArrayRCP&lt;Teuchos::ArrayRCP&lt;int&gt;</a> &gt; &gt; &gt;::type <a class="code" href="classAlbany_1_1STKDiscretization.html#aed47a34b5f0e43f2c840a4f0f136edc4" title="Connectivity array [workset, element, local-node, Eq] =&amp;gt; LID.">wsElNodeEqID</a>;
<a name="l00270"></a>00270 
<a name="l00271"></a><a class="code" href="classAlbany_1_1STKDiscretization.html#a34ca0bdc19e731b8185f7698e35a2aaa">00271</a>     <a class="code" href="structAlbany_1_1WorksetArray.html">Albany::WorksetArray&lt;Teuchos::ArrayRCP&lt;Teuchos::ArrayRCP&lt;int&gt;</a> &gt; &gt;::type <a class="code" href="classAlbany_1_1STKDiscretization.html#a34ca0bdc19e731b8185f7698e35a2aaa">wsElNodeID</a>;
<a name="l00272"></a>00272 
<a name="l00273"></a><a class="code" href="classAlbany_1_1STKDiscretization.html#a4975195024597f2431dc528be2dc012a">00273</a>     <span class="keyword">mutable</span> Teuchos::ArrayRCP&lt;double&gt; <a class="code" href="classAlbany_1_1STKDiscretization.html#a4975195024597f2431dc528be2dc012a">coordinates</a>;
<a name="l00274"></a><a class="code" href="classAlbany_1_1STKDiscretization.html#a31fce9e12eb182345cc1d514c212bee7">00274</a>     <a class="code" href="structAlbany_1_1WorksetArray.html#a2251678748f133c70ad2b97345319967">Albany::WorksetArray&lt;std::string&gt;::type</a> <a class="code" href="classAlbany_1_1STKDiscretization.html#a31fce9e12eb182345cc1d514c212bee7">wsEBNames</a>;
<a name="l00275"></a><a class="code" href="classAlbany_1_1STKDiscretization.html#a7d5f924a774a1336aeb4e89b3520e07e">00275</a>     <a class="code" href="structAlbany_1_1WorksetArray.html#a2251678748f133c70ad2b97345319967">Albany::WorksetArray&lt;int&gt;::type</a> <a class="code" href="classAlbany_1_1STKDiscretization.html#a7d5f924a774a1336aeb4e89b3520e07e">wsPhysIndex</a>;
<a name="l00276"></a><a class="code" href="classAlbany_1_1STKDiscretization.html#a9e54104fc2e823c66ac6022d3482b594">00276</a>     <a class="code" href="structAlbany_1_1WorksetArray.html">Albany::WorksetArray&lt;Teuchos::ArrayRCP&lt;Teuchos::ArrayRCP&lt;double*&gt;</a> &gt; &gt;::type <a class="code" href="classAlbany_1_1STKDiscretization.html#a9e54104fc2e823c66ac6022d3482b594">coords</a>;
<a name="l00277"></a><a class="code" href="classAlbany_1_1STKDiscretization.html#ab394b8385f218812ded5d94d501ed4c8">00277</a>     <a class="code" href="structAlbany_1_1WorksetArray.html">Albany::WorksetArray&lt;Teuchos::ArrayRCP&lt;Teuchos::ArrayRCP&lt;double&gt;</a> &gt; &gt;::type <a class="code" href="classAlbany_1_1STKDiscretization.html#ab394b8385f218812ded5d94d501ed4c8">sHeight</a>;
<a name="l00278"></a><a class="code" href="classAlbany_1_1STKDiscretization.html#a3c1810d25e1c0d89910df612d34876c3">00278</a>     <a class="code" href="structAlbany_1_1WorksetArray.html">Albany::WorksetArray&lt;Teuchos::ArrayRCP&lt;double&gt;</a> &gt;::type <a class="code" href="classAlbany_1_1STKDiscretization.html#a3c1810d25e1c0d89910df612d34876c3">temperature</a>;
<a name="l00279"></a><a class="code" href="classAlbany_1_1STKDiscretization.html#a61ab3e3a5ea6705ef21e9280c5e6c927">00279</a>     <a class="code" href="structAlbany_1_1WorksetArray.html">Albany::WorksetArray&lt;Teuchos::ArrayRCP&lt;Teuchos::ArrayRCP&lt;double&gt;</a> &gt; &gt;::type <a class="code" href="classAlbany_1_1STKDiscretization.html#a61ab3e3a5ea6705ef21e9280c5e6c927">basalFriction</a>;
<a name="l00280"></a><a class="code" href="classAlbany_1_1STKDiscretization.html#a2a64f47b4267ac116d9070727c00405a">00280</a>     <a class="code" href="structAlbany_1_1WorksetArray.html">Albany::WorksetArray&lt;Teuchos::ArrayRCP&lt;Teuchos::ArrayRCP&lt;double&gt;</a> &gt; &gt;::type <a class="code" href="classAlbany_1_1STKDiscretization.html#a2a64f47b4267ac116d9070727c00405a">thickness</a>;
<a name="l00281"></a><a class="code" href="classAlbany_1_1STKDiscretization.html#acbd316fe62b70bb69848d4b114488bf1">00281</a>     <a class="code" href="structAlbany_1_1WorksetArray.html">Albany::WorksetArray&lt;Teuchos::ArrayRCP&lt;double&gt;</a> &gt;::type <a class="code" href="classAlbany_1_1STKDiscretization.html#acbd316fe62b70bb69848d4b114488bf1">flowFactor</a>;
<a name="l00282"></a><a class="code" href="classAlbany_1_1STKDiscretization.html#af5df96321f53188bf7f61624c118bdde">00282</a>     <a class="code" href="structAlbany_1_1WorksetArray.html">Albany::WorksetArray&lt;Teuchos::ArrayRCP&lt;Teuchos::ArrayRCP&lt;double*&gt;</a> &gt; &gt;::type <a class="code" href="classAlbany_1_1STKDiscretization.html#af5df96321f53188bf7f61624c118bdde">surfaceVelocity</a>;
<a name="l00283"></a><a class="code" href="classAlbany_1_1STKDiscretization.html#aa48c1e55a54a0101921765cec1a15da1">00283</a>     <a class="code" href="structAlbany_1_1WorksetArray.html">Albany::WorksetArray&lt;Teuchos::ArrayRCP&lt;Teuchos::ArrayRCP&lt;double*&gt;</a> &gt; &gt;::type <a class="code" href="classAlbany_1_1STKDiscretization.html#aa48c1e55a54a0101921765cec1a15da1">velocityRMS</a>;
<a name="l00284"></a>00284 
<a name="l00286"></a><a class="code" href="classAlbany_1_1STKDiscretization.html#a5d79536cef04ef59e0ebb80f43c37b85">00286</a>     <a class="code" href="namespaceAlbany.html#af11daa75105be6e470b4271a6a7295cb">WsLIDList</a>  <a class="code" href="classAlbany_1_1STKDiscretization.html#a5d79536cef04ef59e0ebb80f43c37b85" title="Connectivity map from elementGID to workset and LID in workset.">elemGIDws</a>;
<a name="l00287"></a>00287 
<a name="l00288"></a>00288     <span class="comment">// States: vector of length worksets of a map from field name to shards array</span>
<a name="l00289"></a><a class="code" href="classAlbany_1_1STKDiscretization.html#a3288951a08528ecf0cfe7ff9efdfe3ae">00289</a>     <a class="code" href="structAlbany_1_1StateArrays.html">Albany::StateArrays</a> <a class="code" href="classAlbany_1_1STKDiscretization.html#a3288951a08528ecf0cfe7ff9efdfe3ae">stateArrays</a>;
<a name="l00290"></a>00290 
<a name="l00292"></a><a class="code" href="classAlbany_1_1STKDiscretization.html#a4406d3d599d75ca3a41a41d85358188c">00292</a>     std::vector&lt; stk::mesh::Entity * &gt; <a class="code" href="classAlbany_1_1STKDiscretization.html#a4406d3d599d75ca3a41a41d85358188c" title="list of all owned nodes, saved for setting solution">ownednodes</a> ;
<a name="l00293"></a><a class="code" href="classAlbany_1_1STKDiscretization.html#ab83300b2ee825168aa58104dbf77baa9">00293</a>     std::vector&lt; stk::mesh::Entity * &gt; <a class="code" href="classAlbany_1_1STKDiscretization.html#ab83300b2ee825168aa58104dbf77baa9">cells</a> ;
<a name="l00294"></a>00294 
<a name="l00296"></a><a class="code" href="classAlbany_1_1STKDiscretization.html#a4edb11abe521264a5257514e739c1694">00296</a>     std::vector&lt; stk::mesh::Entity * &gt; <a class="code" href="classAlbany_1_1STKDiscretization.html#a4edb11abe521264a5257514e739c1694" title="list of all overlap nodes, saved for getting coordinates for mesh motion">overlapnodes</a> ;
<a name="l00297"></a>00297 
<a name="l00299"></a><a class="code" href="classAlbany_1_1STKDiscretization.html#a28b66b7ed8a76eca58c7085613fd0508">00299</a>     <span class="keywordtype">int</span> <a class="code" href="classAlbany_1_1STKDiscretization.html#a28b66b7ed8a76eca58c7085613fd0508" title="Number of elements on this processor.">numOwnedNodes</a>;
<a name="l00300"></a><a class="code" href="classAlbany_1_1STKDiscretization.html#a0a57d9508414e2813565e988597431a7">00300</a>     <span class="keywordtype">int</span> <a class="code" href="classAlbany_1_1STKDiscretization.html#a0a57d9508414e2813565e988597431a7">numOverlapNodes</a>;
<a name="l00301"></a><a class="code" href="classAlbany_1_1STKDiscretization.html#a7cc9e8b38ec674a93482ff2193b9bd79">00301</a>     <span class="keywordtype">int</span> <a class="code" href="classAlbany_1_1STKDiscretization.html#a7cc9e8b38ec674a93482ff2193b9bd79">numGlobalNodes</a>;
<a name="l00302"></a>00302 
<a name="l00303"></a>00303     <span class="comment">// Needed to pass coordinates to ML.</span>
<a name="l00304"></a><a class="code" href="classAlbany_1_1STKDiscretization.html#a8eb6e89874b31e503d171bede7f0f9ac">00304</a>     Teuchos::RCP&lt;Piro::MLRigidBodyModes&gt; <a class="code" href="classAlbany_1_1STKDiscretization.html#a8eb6e89874b31e503d171bede7f0f9ac">rigidBodyModes</a>;
<a name="l00305"></a>00305 
<a name="l00306"></a><a class="code" href="classAlbany_1_1STKDiscretization.html#a8b0a019c8ee22c66dc52b2ba7817cdf8">00306</a>     <span class="keywordtype">int</span> <a class="code" href="classAlbany_1_1STKDiscretization.html#a8b0a019c8ee22c66dc52b2ba7817cdf8">netCDFp</a>;
<a name="l00307"></a><a class="code" href="classAlbany_1_1STKDiscretization.html#ac89c76b13527046a37aa9e2be393d1ed">00307</a>     <span class="keywordtype">int</span> <a class="code" href="classAlbany_1_1STKDiscretization.html#ac89c76b13527046a37aa9e2be393d1ed">netCDFOutputRequest</a>;
<a name="l00308"></a><a class="code" href="classAlbany_1_1STKDiscretization.html#a6f89b5361207cf61110c6b6a68279643">00308</a>     <span class="keywordtype">int</span> <a class="code" href="classAlbany_1_1STKDiscretization.html#a6f89b5361207cf61110c6b6a68279643">varHeight</a>;
<a name="l00309"></a><a class="code" href="classAlbany_1_1STKDiscretization.html#adef4e8f54be774a317a446302736246e">00309</a>     <a class="code" href="structAlbany_1_1WorksetArray.html">Albany::WorksetArray&lt;Teuchos::ArrayRCP&lt;std::vector&lt;interp&gt;</a> &gt; &gt;::type <a class="code" href="classAlbany_1_1STKDiscretization.html#adef4e8f54be774a317a446302736246e">interpolateData</a>;
<a name="l00310"></a>00310 
<a name="l00311"></a>00311     <span class="comment">// Storage used in periodic BCs to un-roll coordinates. Pointers saved for destructor.</span>
<a name="l00312"></a><a class="code" href="classAlbany_1_1STKDiscretization.html#a69615d0e242ce45938412e0f0a9a3f5f">00312</a>     std::vector&lt;double*&gt;  <a class="code" href="classAlbany_1_1STKDiscretization.html#a69615d0e242ce45938412e0f0a9a3f5f">toDelete</a>;
<a name="l00313"></a>00313 
<a name="l00314"></a><a class="code" href="classAlbany_1_1STKDiscretization.html#a9cec6b54f9d73412a7c5879d0f5335cc">00314</a>     Teuchos::RCP&lt;Albany::AbstractSTKMeshStruct&gt; stkMeshStruct;
<a name="l00315"></a>00315 
<a name="l00316"></a>00316     <span class="comment">// Used in Exodus writing capability</span>
<a name="l00317"></a>00317 <span class="preprocessor">#ifdef ALBANY_SEACAS</span>
<a name="l00318"></a>00318 <span class="preprocessor"></span>    stk::io::MeshData* mesh_data;
<a name="l00319"></a>00319 
<a name="l00320"></a>00320     <span class="keywordtype">int</span> outputInterval;
<a name="l00321"></a>00321 <span class="preprocessor">#endif</span>
<a name="l00322"></a><a class="code" href="classAlbany_1_1STKDiscretization.html#a89f42ebdf9f2854dc08c284298c09c3e">00322</a> <span class="preprocessor"></span>    <span class="keywordtype">bool</span> <a class="code" href="classAlbany_1_1STKDiscretization.html#a89f42ebdf9f2854dc08c284298c09c3e">interleavedOrdering</a>;
<a name="l00323"></a>00323 
<a name="l00324"></a>00324   <span class="keyword">private</span>:
<a name="l00325"></a>00325 
<a name="l00326"></a><a class="code" href="classAlbany_1_1STKDiscretization.html#a57585a2abddb6862635a1893f6baaf13">00326</a>     <a class="code" href="structAlbany_1_1MeshGraph.html">MeshGraph</a> <a class="code" href="classAlbany_1_1STKDiscretization.html#a57585a2abddb6862635a1893f6baaf13">nodalGraph</a>;
<a name="l00327"></a>00327 
<a name="l00328"></a>00328     <span class="comment">// find the location of &quot;value&quot; within the first &quot;count&quot; locations of &quot;vector&quot;</span>
<a name="l00329"></a><a class="code" href="classAlbany_1_1STKDiscretization.html#aaebe3fa0356ff02c086554d649ce9a0c">00329</a>     ssize_t <a class="code" href="classAlbany_1_1STKDiscretization.html#aaebe3fa0356ff02c086554d649ce9a0c">in_list</a>(<span class="keyword">const</span> std::size_t value, std::size_t count, std::size_t *vector) {
<a name="l00330"></a>00330 
<a name="l00331"></a>00331       <span class="keywordflow">for</span>(std::size_t i=0; i &lt; count; i++) {
<a name="l00332"></a>00332         <span class="keywordflow">if</span>(vector[i] == value)
<a name="l00333"></a>00333           <span class="keywordflow">return</span> i;
<a name="l00334"></a>00334       }
<a name="l00335"></a>00335        <span class="keywordflow">return</span> -1;
<a name="l00336"></a>00336     }
<a name="l00337"></a>00337 
<a name="l00338"></a><a class="code" href="classAlbany_1_1STKDiscretization.html#a003aa817215ef68d9145ff77cb372e9a">00338</a>     ssize_t <a class="code" href="classAlbany_1_1STKDiscretization.html#a003aa817215ef68d9145ff77cb372e9a">in_list</a>(<span class="keyword">const</span> std::size_t value, std::vector&lt;std::size_t&gt; vector) {
<a name="l00339"></a>00339 
<a name="l00340"></a>00340       std::size_t count = vector.size();
<a name="l00341"></a>00341       <span class="keywordflow">for</span>(std::size_t i=0; i &lt; count; i++) {
<a name="l00342"></a>00342         <span class="keywordflow">if</span>(vector[i] == value)
<a name="l00343"></a>00343           <span class="keywordflow">return</span> i;
<a name="l00344"></a>00344       }
<a name="l00345"></a>00345       <span class="keywordflow">return</span> -1;
<a name="l00346"></a>00346     }
<a name="l00347"></a>00347 
<a name="l00348"></a><a class="code" href="classAlbany_1_1STKDiscretization.html#a894f3cbadfd46f63c459076df5d262ac">00348</a>     ssize_t <a class="code" href="classAlbany_1_1STKDiscretization.html#a894f3cbadfd46f63c459076df5d262ac">entity_in_list</a>(<span class="keyword">const</span> <a class="code" href="namespaceAAdapt.html#a6e672c66f1cfcf2ba9f8baf4a51e0381">stk::mesh::Entity</a> *value, std::vector&lt;stk::mesh::Entity *&gt; vector) {
<a name="l00349"></a>00349 
<a name="l00350"></a>00350       std::size_t count = vector.size();
<a name="l00351"></a>00351       <span class="keywordflow">for</span>(std::size_t i=0; i &lt; count; i++) {
<a name="l00352"></a>00352         <span class="keywordflow">if</span>(vector[i]-&gt;identifier() == value-&gt;identifier())
<a name="l00353"></a>00353           <span class="keywordflow">return</span> i;
<a name="l00354"></a>00354       }
<a name="l00355"></a>00355       <span class="keywordflow">return</span> -1;
<a name="l00356"></a>00356     }
<a name="l00357"></a>00357 
<a name="l00358"></a>00358     <span class="keywordtype">void</span> <a class="code" href="classAlbany_1_1STKDiscretization.html#af4533f839cbfcb2691a54416e3d80be1">printVertexConnectivity</a>();
<a name="l00359"></a>00359 
<a name="l00360"></a>00360   };
<a name="l00361"></a>00361 
<a name="l00362"></a>00362 }
<a name="l00363"></a>00363 
<a name="l00364"></a>00364 <span class="preprocessor">#endif // ALBANY_STKDISCRETIZATION_HPP</span>
</pre></div></div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Wed Mar 26 2014 18:36:36 for Albany: a Trilinos-based PDE code by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
