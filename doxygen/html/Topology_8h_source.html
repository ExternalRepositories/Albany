<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Albany: a Trilinos-based PDE code: Topology.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<h1>Topology.h</h1>  </div>
</div>
<div class="contents">
<a href="Topology_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">//*****************************************************************//</span>
<a name="l00002"></a>00002 <span class="comment">//    Albany 2.0:  Copyright 2012 Sandia Corporation               //</span>
<a name="l00003"></a>00003 <span class="comment">//    This Software is released under the BSD license detailed     //</span>
<a name="l00004"></a>00004 <span class="comment">//    in the file &quot;license.txt&quot; in the top-level Albany directory  //</span>
<a name="l00005"></a>00005 <span class="comment">//*****************************************************************//</span>
<a name="l00006"></a>00006 <span class="preprocessor">#if !defined(LCM_Topology_Topology_h)</span>
<a name="l00007"></a>00007 <span class="preprocessor"></span><span class="preprocessor">#define LCM_Topology_Topology_h</span>
<a name="l00008"></a>00008 <span class="preprocessor"></span>
<a name="l00009"></a>00009 <span class="preprocessor">#include &lt;iterator&gt;</span>
<a name="l00010"></a>00010 
<a name="l00011"></a>00011 <span class="preprocessor">#include &lt;stk_mesh/base/FieldData.hpp&gt;</span>
<a name="l00012"></a>00012 
<a name="l00013"></a>00013 <span class="preprocessor">#include &quot;<a class="code" href="Topology__Types_8h.html">Topology_Types.h</a>&quot;</span>
<a name="l00014"></a>00014 <span class="preprocessor">#include &quot;<a class="code" href="Topology__FractureCriterion_8h.html">Topology_FractureCriterion.h</a>&quot;</span>
<a name="l00015"></a>00015 <span class="preprocessor">#include &quot;<a class="code" href="Topology__Utils_8h.html">Topology_Utils.h</a>&quot;</span>
<a name="l00016"></a>00016 
<a name="l00017"></a>00017 <span class="keyword">namespace </span>LCM {
<a name="l00018"></a>00018 
<a name="l00019"></a><a class="code" href="classLCM_1_1Topology.html">00019</a> <span class="keyword">class </span><a class="code" href="classLCM_1_1Topology.html">Topology</a> {
<a name="l00020"></a>00020 <span class="keyword">public</span>:
<a name="l00029"></a>00029   <a class="code" href="classLCM_1_1Topology.html#a7a26ac8bb4ca92a186efac49f2e23c97" title="Hide default constructor for Topology.">Topology</a>(std::string <span class="keyword">const</span> &amp; input_file, std::string <span class="keyword">const</span> &amp; output_file);
<a name="l00030"></a>00030 
<a name="l00038"></a>00038   <a class="code" href="classLCM_1_1Topology.html#a7a26ac8bb4ca92a186efac49f2e23c97" title="Hide default constructor for Topology.">Topology</a>(RCP&lt;Albany::AbstractDiscretization&gt; &amp; discretization);
<a name="l00039"></a>00039 
<a name="l00049"></a>00049   <a class="code" href="classLCM_1_1Topology.html#a7a26ac8bb4ca92a186efac49f2e23c97" title="Hide default constructor for Topology.">Topology</a>(RCP&lt;Albany::AbstractDiscretization&gt; &amp; discretization,
<a name="l00050"></a>00050       RCP&lt;AbstractFractureCriterion&gt; &amp; fracture_criterion);
<a name="l00051"></a>00051 
<a name="l00061"></a>00061   <span class="keywordtype">void</span>
<a name="l00062"></a>00062   <a class="code" href="classLCM_1_1Topology.html#a9869a18f05f32971ede18b20ca95944c">setEntitiesOpen</a>(std::map&lt;EntityKey, bool&gt; &amp; open_entity_map);
<a name="l00063"></a>00063 
<a name="l00064"></a>00064   <span class="keywordtype">void</span>
<a name="l00065"></a>00065   <a class="code" href="classLCM_1_1Topology.html#a9869a18f05f32971ede18b20ca95944c">setEntitiesOpen</a>();
<a name="l00066"></a>00066 
<a name="l00076"></a>00076   <span class="keywordtype">void</span>
<a name="l00077"></a>00077   <a class="code" href="classLCM_1_1Topology.html#a9869a18f05f32971ede18b20ca95944c">setEntitiesOpen</a>(EntityVector <span class="keyword">const</span> &amp; fractured_faces,
<a name="l00078"></a>00078       std::map&lt;EntityKey, bool&gt;&amp; open_entity_map);
<a name="l00079"></a>00079 
<a name="l00089"></a><a class="code" href="classLCM_1_1Topology.html#ac392148ae94e9f4d0008768052a4bbfa">00089</a>   <span class="keyword">enum</span> <a class="code" href="classLCM_1_1Topology.html#ac392148ae94e9f4d0008768052a4bbfa" title="Output the graph associated with the mesh to graphviz .dot file for visualization purposes...">OutputType</a> {
<a name="l00090"></a><a class="code" href="classLCM_1_1Topology.html#ac392148ae94e9f4d0008768052a4bbfaa8c1f9fdcf09adbcbb0ba472254a4f52d">00090</a>     UNIDIRECTIONAL_UNILEVEL,
<a name="l00091"></a><a class="code" href="classLCM_1_1Topology.html#ac392148ae94e9f4d0008768052a4bbfaa8a82f18a33880f56832d94d10840e627">00091</a>     UNDIRECTIONAL_MULTILEVEL,
<a name="l00092"></a><a class="code" href="classLCM_1_1Topology.html#ac392148ae94e9f4d0008768052a4bbfaa588a22dae38ff8e3c4c3690a4515eed8">00092</a>     BIDIRECTIONAL_UNILEVEL,
<a name="l00093"></a><a class="code" href="classLCM_1_1Topology.html#ac392148ae94e9f4d0008768052a4bbfaa212b313c9b56b6f227668e33c5a63fb0">00093</a>     <a class="code" href="classLCM_1_1Topology.html#ac392148ae94e9f4d0008768052a4bbfaa212b313c9b56b6f227668e33c5a63fb0">BIDIRECTIONAL_MULTILEVEL</a>
<a name="l00094"></a>00094   };
<a name="l00095"></a>00095 
<a name="l00096"></a>00096   <span class="keywordtype">void</span>
<a name="l00097"></a>00097   <a class="code" href="classLCM_1_1Topology.html#a1a7d67a1b5f825237d3940b68c5425f9">outputToGraphviz</a>(
<a name="l00098"></a>00098       std::string <span class="keyword">const</span> &amp; output_filename,
<a name="l00099"></a>00099       <a class="code" href="classLCM_1_1Topology.html#ac392148ae94e9f4d0008768052a4bbfa" title="Output the graph associated with the mesh to graphviz .dot file for visualization purposes...">OutputType</a> <span class="keyword">const</span> output_type = <a class="code" href="classLCM_1_1Topology.html#ac392148ae94e9f4d0008768052a4bbfaa8c1f9fdcf09adbcbb0ba472254a4f52d">UNIDIRECTIONAL_UNILEVEL</a>);
<a name="l00100"></a>00100 
<a name="l00113"></a>00113   <span class="keywordtype">void</span>
<a name="l00114"></a>00114   <a class="code" href="classLCM_1_1Topology.html#ac15942c22dee7024041b899f8f188f40" title="Initializes the default stk mesh object needed by class.">graphInitialization</a>();
<a name="l00115"></a>00115 
<a name="l00128"></a>00128   <span class="keywordtype">void</span>
<a name="l00129"></a>00129   <a class="code" href="classLCM_1_1Topology.html#a14487e6d595781dbf3d1265f5043f35b" title="Removes unneeded relations from the mesh.">removeExtraRelations</a>();
<a name="l00130"></a>00130 
<a name="l00139"></a>00139   <span class="keywordtype">void</span>
<a name="l00140"></a>00140   <a class="code" href="classLCM_1_1Topology.html#a6f76a73f354792ee614469aca6096657" title="Creates temporary nodal connectivity for the elements and removes the relationships between the eleme...">removeNodeRelations</a>();
<a name="l00141"></a>00141 
<a name="l00150"></a>00150   <span class="keywordtype">void</span>
<a name="l00151"></a>00151   <a class="code" href="classLCM_1_1Topology.html#aea24ecb4da5875888a78fd825ccbc7d6" title="Our canonical graph representation has edges (relations) that connect vertices (entities) with a diff...">removeMultiLevelRelations</a>();
<a name="l00152"></a>00152 
<a name="l00157"></a>00157   std::vector&lt;EntityVector&gt;
<a name="l00158"></a>00158   <a class="code" href="classLCM_1_1Topology.html#a8219391d773e9872faf7193cc797c19c" title="Returns array of pointers to Entities for the element to node relations.">getElementToNodeConnectivity</a>();
<a name="l00159"></a>00159 
<a name="l00164"></a>00164   <span class="keywordtype">void</span>
<a name="l00165"></a>00165   <a class="code" href="classLCM_1_1Topology.html#a17a4df84a6d4a38c28b663200a135512" title="Returns array of pointers to Entities for the element to node relations.">removeElementToNodeConnectivity</a>(std::vector&lt;EntityVector&gt; &amp; v);
<a name="l00166"></a>00166 
<a name="l00175"></a>00175   <span class="keywordtype">void</span>
<a name="l00176"></a>00176   <a class="code" href="classLCM_1_1Topology.html#a8bb87aec87d0397e2eff8069faf2513b" title="After mesh manipulations are complete, need to recreate a stk mesh understood by Albany_STKDiscretiza...">restoreElementToNodeConnectivity</a>();
<a name="l00177"></a>00177 
<a name="l00181"></a>00181   <span class="keywordtype">void</span>
<a name="l00182"></a>00182   <a class="code" href="classLCM_1_1Topology.html#a8bb87aec87d0397e2eff8069faf2513b" title="After mesh manipulations are complete, need to recreate a stk mesh understood by Albany_STKDiscretiza...">restoreElementToNodeConnectivity</a>(std::vector&lt;EntityVector&gt; &amp; v);
<a name="l00183"></a>00183 
<a name="l00197"></a>00197   EntityVector
<a name="l00198"></a>00198   <a class="code" href="classLCM_1_1Topology.html#a961a2db66e18361343609b186825029d" title="Determine the nodes associated with a face.">getFaceNodes</a>(<a class="code" href="BoundarySurfaceOutput_8cc.html#a5f3c53a4de5232e082c5b3733a9c7e98">Entity</a> * entity);
<a name="l00199"></a>00199 
<a name="l00200"></a>00200   EntityVector
<a name="l00201"></a>00201   <a class="code" href="classLCM_1_1Topology.html#af41fc4ff4c582d9150fd0d8bf5b501a9">getBoundaryEntityNodes</a>(<a class="code" href="BoundarySurfaceOutput_8cc.html#a5f3c53a4de5232e082c5b3733a9c7e98">Entity</a> <span class="keyword">const</span> &amp; boundary_entity);
<a name="l00202"></a>00202 
<a name="l00206"></a>00206   <span class="keywordtype">void</span>
<a name="l00207"></a>00207   <a class="code" href="classLCM_1_1Topology.html#ac23cfc14080556ebba40bd204e5a94d9" title="Output boundary.">outputBoundary</a>();
<a name="l00208"></a>00208 
<a name="l00212"></a>00212   <span class="keywordtype">void</span>
<a name="l00213"></a>00213   <a class="code" href="classLCM_1_1Topology.html#abe9c4224509ba0b0a9d67a5a7b25cfce" title="Create boundary mesh.">createBoundary</a>();
<a name="l00214"></a>00214 
<a name="l00227"></a>00227   EntityVector
<a name="l00228"></a>00228   <a class="code" href="classLCM_1_1Topology.html#aeb9ec9714a8a23e29e5a33543b3835e3" title="Create surface element connectivity.">createSurfaceElementConnectivity</a>(<a class="code" href="BoundarySurfaceOutput_8cc.html#a5f3c53a4de5232e082c5b3733a9c7e98">Entity</a> <span class="keyword">const</span> &amp; face1, <a class="code" href="BoundarySurfaceOutput_8cc.html#a5f3c53a4de5232e082c5b3733a9c7e98">Entity</a> <span class="keyword">const</span> &amp; face2);
<a name="l00229"></a>00229 
<a name="l00244"></a>00244   <span class="keywordtype">void</span>
<a name="l00245"></a>00245   <a class="code" href="classLCM_1_1Topology.html#a6d4272bf644ae29b2aba0821b7a868d2" title="Create vectors describing the vertices and edges of the star of an entity in the stk mesh...">createStar</a>(
<a name="l00246"></a>00246       <a class="code" href="BoundarySurfaceOutput_8cc.html#a5f3c53a4de5232e082c5b3733a9c7e98">Entity</a> &amp; entity,
<a name="l00247"></a>00247       std::set&lt;EntityKey&gt; &amp; subgraph_entities,
<a name="l00248"></a>00248       std::set&lt;stkEdge, EdgeLessThan&gt; &amp; subgraph_edges);
<a name="l00249"></a>00249 
<a name="l00262"></a>00262   <span class="keywordtype">void</span>
<a name="l00263"></a>00263   <a class="code" href="classLCM_1_1Topology.html#ad8feb54997e593d1b90adb77eb9d3d5a" title="Fractures all open boundary entities of the mesh.">splitOpenFaces</a>();
<a name="l00264"></a>00264 
<a name="l00265"></a>00265   <span class="keywordtype">void</span>
<a name="l00266"></a>00266   <a class="code" href="classLCM_1_1Topology.html#ad8feb54997e593d1b90adb77eb9d3d5a" title="Fractures all open boundary entities of the mesh.">splitOpenFaces</a>(std::map&lt;EntityKey, bool&gt; &amp; open_entity_map);
<a name="l00267"></a>00267 
<a name="l00268"></a>00268   <span class="keywordtype">void</span>
<a name="l00269"></a>00269   <a class="code" href="classLCM_1_1Topology.html#ad8feb54997e593d1b90adb77eb9d3d5a" title="Fractures all open boundary entities of the mesh.">splitOpenFaces</a>(
<a name="l00270"></a>00270       std::map&lt;EntityKey, bool&gt; &amp; open_entity_map,
<a name="l00271"></a>00271       std::vector&lt;EntityVector&gt;&amp; old_connectivity,
<a name="l00272"></a>00272       std::vector&lt;EntityVector&gt;&amp; new_connectivity);
<a name="l00273"></a>00273 
<a name="l00277"></a>00277   <span class="keywordtype">void</span>
<a name="l00278"></a>00278   <a class="code" href="classLCM_1_1Topology.html#a9f252f2834c37d8cc94d36b477013a62" title="Adds a new entity of rank 3 to the mesh.">addElement</a>(<a class="code" href="namespaceAAdapt.html#a3c520a41b4eeda67a27eaa620a369bc4">EntityRank</a> entity_rank);
<a name="l00279"></a>00279 
<a name="l00285"></a>00285   <span class="keywordtype">void</span>
<a name="l00286"></a>00286   <a class="code" href="classLCM_1_1Topology.html#ab31f5d7eb1e5da5ea50951987012e66a" title="creates several entities at a time.">addEntities</a>(std::vector&lt;size_t&gt; &amp; requests);
<a name="l00287"></a>00287 
<a name="l00291"></a>00291   <span class="keywordtype">void</span>
<a name="l00292"></a>00292   <a class="code" href="classLCM_1_1Topology.html#a495ac2fbe420d8c08f62c15759fa5cf4" title="Removes an entity and all its connections.">removeEntity</a>(<a class="code" href="BoundarySurfaceOutput_8cc.html#a5f3c53a4de5232e082c5b3733a9c7e98">Entity</a> &amp; entity);
<a name="l00293"></a>00293 
<a name="l00297"></a>00297   <span class="keywordtype">void</span>
<a name="l00298"></a>00298   <a class="code" href="classLCM_1_1Topology.html#a974af82633fa783654ee19e7a31a6f62" title="Adds a relation between two entities.">addRelation</a>(<a class="code" href="BoundarySurfaceOutput_8cc.html#a5f3c53a4de5232e082c5b3733a9c7e98">Entity</a> &amp; source_entity, <a class="code" href="BoundarySurfaceOutput_8cc.html#a5f3c53a4de5232e082c5b3733a9c7e98">Entity</a> &amp; target_entity,
<a name="l00299"></a>00299       <a class="code" href="namespaceLCM.html#aecbeb2e8a477539b626e37c89798e805">EdgeId</a> local_relation_id);
<a name="l00300"></a>00300 
<a name="l00304"></a>00304   <span class="keywordtype">void</span>
<a name="l00305"></a>00305   <a class="code" href="classLCM_1_1Topology.html#a4bb4eb9d2f3ef1b6a996c6a6a18ce610" title="Removes the relation between two entities.">removeRelation</a>(<a class="code" href="BoundarySurfaceOutput_8cc.html#a5f3c53a4de5232e082c5b3733a9c7e98">Entity</a> &amp; source_entity, <a class="code" href="BoundarySurfaceOutput_8cc.html#a5f3c53a4de5232e082c5b3733a9c7e98">Entity</a> &amp; target_entity,
<a name="l00306"></a>00306       <a class="code" href="namespaceLCM.html#aecbeb2e8a477539b626e37c89798e805">EdgeId</a> local_relation_id);
<a name="l00307"></a>00307 
<a name="l00312"></a>00312   EntityVector
<a name="l00313"></a>00313   <a class="code" href="classLCM_1_1Topology.html#ad56caedf0f2cdbec74da42508adc3bc0" title="Returns a vector with all the mesh entities of a specific rank.">getEntitiesByRank</a>(BulkData <span class="keyword">const</span> &amp; mesh, <a class="code" href="namespaceAAdapt.html#a3c520a41b4eeda67a27eaa620a369bc4">EntityRank</a> entity_rank);
<a name="l00314"></a>00314 
<a name="l00318"></a>00318   EntityVector::size_type
<a name="l00319"></a>00319   <a class="code" href="classLCM_1_1Topology.html#a47b6a0fb91291dc8b7f66072fb4811ab" title="Number of entities of a specific rank.">getNumberEntitiesByRank</a>(BulkData <span class="keyword">const</span> &amp; mesh, <a class="code" href="namespaceAAdapt.html#a3c520a41b4eeda67a27eaa620a369bc4">EntityRank</a> entity_rank);
<a name="l00320"></a>00320 
<a name="l00324"></a>00324   <a class="code" href="namespaceLCM.html#aecbeb2e8a477539b626e37c89798e805">EdgeId</a>
<a name="l00325"></a>00325   <a class="code" href="classLCM_1_1Topology.html#ada31e5123565d962ee9d907975233cbb" title="Gets the local relation id (0,1,2,...) between two entities.">getLocalRelationId</a>(<a class="code" href="BoundarySurfaceOutput_8cc.html#a5f3c53a4de5232e082c5b3733a9c7e98">Entity</a> <span class="keyword">const</span> &amp; source_entity,
<a name="l00326"></a>00326       <a class="code" href="BoundarySurfaceOutput_8cc.html#a5f3c53a4de5232e082c5b3733a9c7e98">Entity</a> <span class="keyword">const</span> &amp; target_entity);
<a name="l00327"></a>00327 
<a name="l00332"></a>00332   <span class="keywordtype">int</span>
<a name="l00333"></a>00333   <a class="code" href="classLCM_1_1Topology.html#a2ed6f92b01a8e55b3bfe3be31d341f7d" title="Returns the total number of lower rank entities connected to a specific entity.">getNumberLowerRankEntities</a>(<a class="code" href="BoundarySurfaceOutput_8cc.html#a5f3c53a4de5232e082c5b3733a9c7e98">Entity</a> <span class="keyword">const</span> &amp; entity);
<a name="l00334"></a>00334 
<a name="l00340"></a>00340   EntityVector
<a name="l00341"></a>00341   <a class="code" href="classLCM_1_1Topology.html#a6313b46d4be4479f96c68ce5399fb41f" title="Returns a group of entities connected directly to a given entity.">getDirectlyConnectedEntities</a>(
<a name="l00342"></a>00342       <a class="code" href="BoundarySurfaceOutput_8cc.html#a5f3c53a4de5232e082c5b3733a9c7e98">Entity</a> <span class="keyword">const</span> &amp; entity,
<a name="l00343"></a>00343       <a class="code" href="namespaceAAdapt.html#a3c520a41b4eeda67a27eaa620a369bc4">EntityRank</a> entity_rank);
<a name="l00344"></a>00344 
<a name="l00348"></a>00348   <span class="keywordtype">bool</span>
<a name="l00349"></a>00349   <a class="code" href="classLCM_1_1Topology.html#a2d32eb26dc8d84b4b39f7b9be06bf805" title="Checks if an entity exists inside a specific vector.">findEntityInVector</a>(EntityVector &amp; entities, <a class="code" href="BoundarySurfaceOutput_8cc.html#a5f3c53a4de5232e082c5b3733a9c7e98">Entity</a> * entity);
<a name="l00350"></a>00350 
<a name="l00361"></a>00361   EntityVector
<a name="l00362"></a>00362   <a class="code" href="classLCM_1_1Topology.html#ab6d5b10d686b354d46e94b9463cd6a03" title="Returns a group of entities connected indirectly to a given entity.">getBoundaryEntities</a>(<a class="code" href="BoundarySurfaceOutput_8cc.html#a5f3c53a4de5232e082c5b3733a9c7e98">Entity</a> <span class="keyword">const</span> &amp; entity, <a class="code" href="namespaceAAdapt.html#a3c520a41b4eeda67a27eaa620a369bc4">EntityRank</a> entity_rank);
<a name="l00363"></a>00363 
<a name="l00368"></a>00368   <span class="keywordtype">bool</span>
<a name="l00369"></a>00369   <a class="code" href="classLCM_1_1Topology.html#a37ff729add24cfcfdf26cd7c08428c83" title="Checks if a segment is connected to an input node.">segmentIsConnected</a>(<a class="code" href="BoundarySurfaceOutput_8cc.html#a5f3c53a4de5232e082c5b3733a9c7e98">Entity</a> <span class="keyword">const</span> &amp; segment, <a class="code" href="BoundarySurfaceOutput_8cc.html#a5f3c53a4de5232e082c5b3733a9c7e98">Entity</a> * node);
<a name="l00370"></a>00370 
<a name="l00376"></a>00376   EntityVector
<a name="l00377"></a>00377   <a class="code" href="classLCM_1_1Topology.html#a4269b8c40acef7ccf75330d40a5765db" title="Finds the adjacent segments to a given segment.">findAdjacentSegments</a>(<a class="code" href="BoundarySurfaceOutput_8cc.html#a5f3c53a4de5232e082c5b3733a9c7e98">Entity</a> <span class="keyword">const</span> &amp; segment, <a class="code" href="BoundarySurfaceOutput_8cc.html#a5f3c53a4de5232e082c5b3733a9c7e98">Entity</a> * node);
<a name="l00378"></a>00378 
<a name="l00383"></a>00383   EntityVector
<a name="l00384"></a>00384   <a class="code" href="classLCM_1_1Topology.html#a124d0df99b262720579621f25012ef78" title="Returns all the highest dimensional topology entities to which a given face belongs.">findCellRelations</a>(<a class="code" href="BoundarySurfaceOutput_8cc.html#a5f3c53a4de5232e082c5b3733a9c7e98">Entity</a> <span class="keyword">const</span> &amp; face);
<a name="l00385"></a>00385 
<a name="l00391"></a>00391   EntityVector
<a name="l00392"></a>00392   <a class="code" href="classLCM_1_1Topology.html#a805c9fa7ed44a0ac26e5cf2ffaaf6aab" title="Returns all the segments at the boundary of a given element.">findSegmentsFromElement</a>(<a class="code" href="BoundarySurfaceOutput_8cc.html#a5f3c53a4de5232e082c5b3733a9c7e98">Entity</a> <span class="keyword">const</span> &amp; element);
<a name="l00393"></a>00393 
<a name="l00397"></a>00397   <span class="keywordtype">bool</span>
<a name="l00398"></a>00398   <a class="code" href="classLCM_1_1Topology.html#a822a842998824b37eb52d34ccfdf1598" title="Returns true if the faces share a segment (two points).">facesShareTwoPoints</a>(<a class="code" href="BoundarySurfaceOutput_8cc.html#a5f3c53a4de5232e082c5b3733a9c7e98">Entity</a> <span class="keyword">const</span> &amp; face1, <a class="code" href="BoundarySurfaceOutput_8cc.html#a5f3c53a4de5232e082c5b3733a9c7e98">Entity</a> <span class="keyword">const</span> &amp; face2);
<a name="l00399"></a>00399 
<a name="l00403"></a>00403   EntityVector
<a name="l00404"></a>00404   <a class="code" href="classLCM_1_1Topology.html#ab940b7074b0ab3eb07001157bb6fa135" title="returns the adjacent segments from a given face">findAdjacentSegmentsFromFace</a>(
<a name="l00405"></a>00405       std::vector&lt;EntityVector&gt; <span class="keyword">const</span> &amp; faces_inside_element,
<a name="l00406"></a>00406       <a class="code" href="BoundarySurfaceOutput_8cc.html#a5f3c53a4de5232e082c5b3733a9c7e98">Entity</a> <span class="keyword">const</span> &amp; face,
<a name="l00407"></a>00407       <span class="keywordtype">int</span> element_number);
<a name="l00408"></a>00408 
<a name="l00412"></a>00412   <span class="keywordtype">double</span>*
<a name="l00413"></a>00413   <a class="code" href="classLCM_1_1Topology.html#a0225b7702cf193245d0bd0dcb01a1a9b" title="Returns a pointer with the coordinates of a given entity.">getPointerOfCoordinates</a>(<a class="code" href="BoundarySurfaceOutput_8cc.html#a5f3c53a4de5232e082c5b3733a9c7e98">Entity</a> * entity);
<a name="l00414"></a>00414 
<a name="l00419"></a>00419   EntityVector
<a name="l00420"></a>00420   <a class="code" href="classLCM_1_1Topology.html#a267ea671a3d5057b72bf3e1328ac4aaf" title="Returns a vector with the corresponding former boundary nodes of an input entity.">getFormerElementNodes</a>(<a class="code" href="BoundarySurfaceOutput_8cc.html#a5f3c53a4de5232e082c5b3733a9c7e98">Entity</a> <span class="keyword">const</span> &amp; element,
<a name="l00421"></a>00421       std::vector&lt;EntityVector&gt; <span class="keyword">const</span> &amp; entities);
<a name="l00422"></a>00422 
<a name="l00428"></a>00428   <span class="keywordtype">void</span>
<a name="l00429"></a>00429   <a class="code" href="classLCM_1_1Topology.html#a0177be6bb7158bfb8c851af0792b46bb" title="Generates the coordinate of a given barycenter &amp;quot;entities&amp;quot; is a vector with points that belo...">computeBarycentricCoordinates</a>(
<a name="l00430"></a>00430       EntityVector <span class="keyword">const</span> &amp; entities,
<a name="l00431"></a>00431       <a class="code" href="BoundarySurfaceOutput_8cc.html#a5f3c53a4de5232e082c5b3733a9c7e98">Entity</a> * barycenter);
<a name="l00432"></a>00432 
<a name="l00436"></a>00436   <span class="keywordtype">void</span>
<a name="l00437"></a>00437   <a class="code" href="classLCM_1_1Topology.html#ae413e598d16ab7311a5464cc08655ba0" title="Barycentric subdivision.">barycentricSubdivision</a>();
<a name="l00438"></a>00438 
<a name="l00442"></a>00442   std::vector&lt;Entity*&gt;
<a name="l00443"></a>00443   <a class="code" href="classLCM_1_1Topology.html#a2b3a8545521666fd76516b41b59210cf" title="Finds the closest nodes(Entities of rank 0) to each of the three points in the input vector...">getClosestNodes</a>(std::vector&lt;std::vector&lt;double&gt; &gt; points);
<a name="l00444"></a>00444 
<a name="l00450"></a>00450   std::vector&lt;Entity*&gt;
<a name="l00451"></a>00451   <a class="code" href="classLCM_1_1Topology.html#ad72d255aa82d0638f3e33e2298b9075f" title="Finds the closest nodes(Entities of rank 0) to each of the three points in the input vectorThese node...">getClosestNodesOnSurface</a>(std::vector&lt;std::vector&lt;double&gt; &gt; points);
<a name="l00452"></a>00452 
<a name="l00456"></a>00456   <span class="keywordtype">double</span>
<a name="l00457"></a>00457   <a class="code" href="classLCM_1_1Topology.html#a5824190c9ff1572798facc8ed541051c" title="calculates the distance between a node and a point">getDistanceNodeAndPoint</a>(<a class="code" href="BoundarySurfaceOutput_8cc.html#a5f3c53a4de5232e082c5b3733a9c7e98">Entity</a>* node, std::vector&lt;double&gt; point);
<a name="l00458"></a>00458 
<a name="l00463"></a>00463   std::vector&lt;std::vector&lt;double&gt; &gt;
<a name="l00464"></a>00464   <a class="code" href="classLCM_1_1Topology.html#a2949db9734e7bbede5ebf05aa3c53856" title="Returns the coordinates of the points that form a equilateral triangle.">getCoordinatesOfTriangle</a>(std::vector&lt;double&gt; <span class="keyword">const</span> normalToPlane);
<a name="l00465"></a>00465 
<a name="l00469"></a>00469   <span class="keywordtype">double</span>
<a name="l00470"></a>00470   <a class="code" href="classLCM_1_1Topology.html#ab72e2a8f6d5832ca56df3d1bcc7e51fa" title="Return a random number between two given numbers.">randomNumber</a>(<span class="keywordtype">double</span> valMin, <span class="keywordtype">double</span> valMax);
<a name="l00471"></a>00471 
<a name="l00475"></a>00475   <span class="keywordtype">double</span>
<a name="l00476"></a>00476   <a class="code" href="classLCM_1_1Topology.html#a619ab593dd3a4cb2934407a4747b4099" title="Returns the distance between two entities of rank 0 (nodes).">getDistanceBetweenNodes</a>(<a class="code" href="BoundarySurfaceOutput_8cc.html#a5f3c53a4de5232e082c5b3733a9c7e98">Entity</a> * node1, <a class="code" href="BoundarySurfaceOutput_8cc.html#a5f3c53a4de5232e082c5b3733a9c7e98">Entity</a> * node2);
<a name="l00477"></a>00477 
<a name="l00482"></a>00482   std::vector&lt;double&gt;
<a name="l00483"></a>00483   <a class="code" href="classLCM_1_1Topology.html#a087bde243ad26a4b7a9c355386a3c049" title="Returns the coordinates of the max and min of x y and z in the order max of, min of x...">getCoordinatesOfMaxAndMin</a>();
<a name="l00484"></a>00484 
<a name="l00489"></a>00489   std::vector&lt;Entity*&gt;
<a name="l00490"></a>00490   <a class="code" href="classLCM_1_1Topology.html#a310c207daa9eeded1c014021e8c0c3c0" title="Returns the edges necessary to compute the shortest path on the outer surface of the mesh...">MeshEdgesShortestPath</a>();
<a name="l00491"></a>00491 
<a name="l00496"></a>00496   std::vector&lt;std::vector&lt;int&gt; &gt;
<a name="l00497"></a>00497   <a class="code" href="classLCM_1_1Topology.html#acf9fa5dbb42790df7f23001d8a7440c8" title="Returns the shortest path over the boundary faces given three input nodes and the edges that belong t...">shortestpathOnBoundaryFaces</a>(
<a name="l00498"></a>00498       std::vector&lt;Entity*&gt; <span class="keyword">const</span> &amp; nodes,
<a name="l00499"></a>00499       std::vector&lt;Entity*&gt; <span class="keyword">const</span> &amp; <a class="code" href="classLCM_1_1Topology.html#a310c207daa9eeded1c014021e8c0c3c0" title="Returns the edges necessary to compute the shortest path on the outer surface of the mesh...">MeshEdgesShortestPath</a>);
<a name="l00500"></a>00500 
<a name="l00504"></a>00504   std::vector&lt;std::vector&lt;int&gt; &gt;
<a name="l00505"></a>00505   <a class="code" href="classLCM_1_1Topology.html#a1b92e7f2669164c55cd2782bf7c45ec2" title="Returns the shortest path between three input nodes.">shortestpath</a>(std::vector&lt;Entity*&gt; <span class="keyword">const</span> &amp; nodes);
<a name="l00506"></a>00506 
<a name="l00510"></a>00510   std::vector&lt;std::vector&lt;int&gt; &gt;
<a name="l00511"></a>00511   <a class="code" href="classLCM_1_1Topology.html#aebfa6e0597e16cad3d0bf23a52dc8e9b" title="Returns the directions of all the edges of the input mesh.">edgesDirections</a>();
<a name="l00512"></a>00512 
<a name="l00516"></a>00516   std::vector&lt;std::vector&lt;int&gt; &gt;
<a name="l00517"></a>00517   <a class="code" href="classLCM_1_1Topology.html#a162847c5ba7bad8ad4c6095afa95a258" title="Returns the directions of all the boundary edges of the input mesh.">edgesDirectionsOuterSurface</a>();
<a name="l00518"></a>00518 
<a name="l00519"></a>00519 
<a name="l00523"></a>00523   std::vector&lt;std::vector&lt;int&gt; &gt;
<a name="l00524"></a>00524   <a class="code" href="classLCM_1_1Topology.html#a5452b64772f59703a0cc65b37ca3d846" title="Returns the directions of all of the faces of the input mesh.">facesDirections</a>();
<a name="l00525"></a>00525 
<a name="l00529"></a>00529   std::vector&lt;double&gt;
<a name="l00530"></a>00530   <a class="code" href="classLCM_1_1Topology.html#a9ad14fb88464515d17ea0c2d1288c819" title="Returns a vector with the areas of each of the faces of the input mesh.">facesAreas</a>();
<a name="l00531"></a>00531 
<a name="l00536"></a>00536   std::vector&lt;std::vector&lt;int&gt; &gt;
<a name="l00537"></a>00537   <a class="code" href="classLCM_1_1Topology.html#a3ceb776b9e58c9f287854ebba29292dd" title="Returns the boundary operator of the input mesh.">boundaryOperator</a>();
<a name="l00538"></a>00538 
<a name="l00543"></a>00543   std::vector&lt;std::vector&lt;double&gt; &gt;
<a name="l00544"></a>00544   <a class="code" href="classLCM_1_1Topology.html#a21b98e28331c4d47145a423b125cf95d" title="returns the boundary operator along with the faces areas to create the columns of an mps file...">outputForMpsFile</a>();
<a name="l00545"></a>00545 
<a name="l00551"></a>00551   std::vector&lt;std::vector&lt;int&gt; &gt;
<a name="l00552"></a>00552   <a class="code" href="classLCM_1_1Topology.html#ad86eda741fa32f86d269c050019de78c" title="Returns the 1-D boundary required to compute the minimum surface of the input mesh.">boundaryVector</a>(std::vector&lt;std::vector&lt;int&gt; &gt; &amp; shortPath);
<a name="l00553"></a>00553 
<a name="l00559"></a>00559   std::vector&lt;std::vector&lt;int&gt; &gt;
<a name="l00560"></a>00560   <a class="code" href="classLCM_1_1Topology.html#a6aad3f5b817c4b0aefd9faea0de1adb6" title="Returns the 1-D boundary required to compute the minimum surface of the input mesh boundary faces...">boundaryVectorOuterSurface</a>(std::vector&lt;std::vector&lt;int&gt; &gt; &amp; shortPath);
<a name="l00561"></a>00561 
<a name="l00567"></a>00567   std::vector&lt;Entity*&gt;
<a name="l00568"></a>00568   <a class="code" href="classLCM_1_1Topology.html#a3a267b6831be1fcbe36013c76b572429" title="Returns the corresponding entities of rank 2 that build the minimum surface.">MinimumSurfaceFaces</a>(std::vector&lt;int&gt; VectorFromLPSolver);
<a name="l00569"></a>00569 
<a name="l00573"></a>00573   <span class="keywordtype">int</span>
<a name="l00574"></a>00574   <a class="code" href="classLCM_1_1Topology.html#afb666f45288ae6c62f34c981ee952025" title="Returns the number of times an entity is repeated in a vector.">NumberOfRepetitions</a>(std::vector&lt;Entity*&gt; &amp; entities, <a class="code" href="BoundarySurfaceOutput_8cc.html#a5f3c53a4de5232e082c5b3733a9c7e98">Entity</a> * entity);
<a name="l00575"></a>00575 
<a name="l00580"></a>00580   std::vector&lt;double&gt;
<a name="l00581"></a>00581   <a class="code" href="classLCM_1_1Topology.html#a6bcf46296d40e91ceeb2e07b2cc6e6d0" title="Returns the coordinates of an input node.">findCoordinates</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nodeIdentifier);
<a name="l00582"></a>00582 
<a name="l00587"></a>00587   <span class="keywordtype">void</span>
<a name="l00588"></a>00588   <a class="code" href="classLCM_1_1Topology.html#a9d0e5827184a4caea599a39d29b372f8" title="----------------------------------------------------------------------">barycentricSubdivision_</a>();
<a name="l00589"></a>00589 
<a name="l00593"></a>00593   <span class="keywordtype">void</span>
<a name="l00594"></a>00594   <a class="code" href="classLCM_1_1Topology.html#aaa1478c767d009f59691100346b5d0af" title="Divide former mesh segments by half.">divideSegmentsHalf</a>();
<a name="l00595"></a>00595 
<a name="l00596"></a>00596   <span class="keywordtype">void</span>
<a name="l00597"></a>00597   <a class="code" href="classLCM_1_1Topology.html#a251d646f7762f50b592c612cb4a0c848">addcentroid</a>();
<a name="l00598"></a>00598 
<a name="l00599"></a>00599   <span class="keywordtype">void</span>
<a name="l00600"></a>00600   <a class="code" href="classLCM_1_1Topology.html#ad4444c13116a74cac77db147b576633f">connectcentroid</a>();
<a name="l00601"></a>00601 
<a name="l00602"></a>00602   <span class="keywordtype">void</span>
<a name="l00603"></a>00603   <a class="code" href="classLCM_1_1Topology.html#a3919cd139cac157870b320e2c36cb323">addnewfaces</a>();
<a name="l00604"></a>00604 
<a name="l00605"></a>00605   <span class="keywordtype">void</span>
<a name="l00606"></a>00606   <a class="code" href="classLCM_1_1Topology.html#a1f687d77984de59faec3023a18ea0fb6">connectnewfaces</a>();
<a name="l00607"></a>00607 
<a name="l00611"></a>00611   <span class="keywordtype">void</span>
<a name="l00612"></a><a class="code" href="classLCM_1_1Topology.html#aa127918b06acdd756be3e46bdabadc5f">00612</a>   <a class="code" href="classLCM_1_1Topology.html#aa127918b06acdd756be3e46bdabadc5f" title="Accessors and mutators.">setSTKMeshStruct</a>(RCP&lt;Albany::AbstractSTKMeshStruct&gt; <span class="keyword">const</span> &amp; sms)
<a name="l00613"></a>00613   {<a class="code" href="classLCM_1_1Topology.html#a1798682c2f2aec779ec38f4322ce7694">stk_mesh_struct_</a> = sms;}
<a name="l00614"></a>00614 
<a name="l00615"></a>00615   RCP&lt;Albany::AbstractSTKMeshStruct&gt; &amp;
<a name="l00616"></a><a class="code" href="classLCM_1_1Topology.html#a932b79a5e26762e7d3b9eb06be24d6fe">00616</a>   <a class="code" href="classLCM_1_1Topology.html#a932b79a5e26762e7d3b9eb06be24d6fe">getSTKMeshStruct</a>()
<a name="l00617"></a>00617   {<span class="keywordflow">return</span> <a class="code" href="classLCM_1_1Topology.html#a1798682c2f2aec779ec38f4322ce7694">stk_mesh_struct_</a>;}
<a name="l00618"></a>00618 
<a name="l00619"></a>00619   <span class="keywordtype">void</span>
<a name="l00620"></a><a class="code" href="classLCM_1_1Topology.html#abc738b1a618eb483082e22294cc2f2cb">00620</a>   <a class="code" href="classLCM_1_1Topology.html#abc738b1a618eb483082e22294cc2f2cb">setDiscretization</a>(RCP&lt;Albany::AbstractDiscretization&gt; <span class="keyword">const</span> &amp; d)
<a name="l00621"></a>00621   {<a class="code" href="classLCM_1_1Topology.html#a789cd6a9d19d7e4522bb20410f62c31d">discretization_</a> = d;}
<a name="l00622"></a>00622 
<a name="l00623"></a>00623   RCP&lt;Albany::AbstractDiscretization&gt; &amp;
<a name="l00624"></a><a class="code" href="classLCM_1_1Topology.html#ad29b4fd026a2ebfa7ce09db24dd31652">00624</a>   <a class="code" href="classLCM_1_1Topology.html#ad29b4fd026a2ebfa7ce09db24dd31652">getDiscretization</a>()
<a name="l00625"></a>00625   {<span class="keywordflow">return</span> <a class="code" href="classLCM_1_1Topology.html#a789cd6a9d19d7e4522bb20410f62c31d">discretization_</a>;}
<a name="l00626"></a>00626 
<a name="l00627"></a>00627   BulkData *
<a name="l00628"></a><a class="code" href="classLCM_1_1Topology.html#a2815597abf79614b33140abb00dcc8c0">00628</a>   <a class="code" href="classLCM_1_1Topology.html#a2815597abf79614b33140abb00dcc8c0">getBulkData</a>()
<a name="l00629"></a>00629   {<span class="keywordflow">return</span> <a class="code" href="classLCM_1_1Topology.html#a1798682c2f2aec779ec38f4322ce7694">stk_mesh_struct_</a>-&gt;bulkData;}
<a name="l00630"></a>00630 
<a name="l00631"></a>00631   stk::mesh::fem::FEMMetaData *
<a name="l00632"></a><a class="code" href="classLCM_1_1Topology.html#aac2c5cb92e57e62da886f2a866ce1f9f">00632</a>   <a class="code" href="classLCM_1_1Topology.html#aac2c5cb92e57e62da886f2a866ce1f9f">getMetaData</a>()
<a name="l00633"></a>00633   {<span class="keywordflow">return</span> <a class="code" href="classLCM_1_1Topology.html#a1798682c2f2aec779ec38f4322ce7694">stk_mesh_struct_</a>-&gt;metaData;}
<a name="l00634"></a>00634 
<a name="l00635"></a>00635   <span class="keywordtype">void</span>
<a name="l00636"></a><a class="code" href="classLCM_1_1Topology.html#a0b2094576d6eac2becb364182c055958">00636</a>   <a class="code" href="classLCM_1_1Topology.html#a0b2094576d6eac2becb364182c055958">setCellTopology</a>(shards::CellTopology <span class="keyword">const</span> &amp; ct)
<a name="l00637"></a>00637   {<a class="code" href="classLCM_1_1Topology.html#a45516abd8d4a61af5fbb6309d382b50e">cell_topology_</a> = ct;}
<a name="l00638"></a>00638 
<a name="l00639"></a>00639   shards::CellTopology &amp;
<a name="l00640"></a><a class="code" href="classLCM_1_1Topology.html#afda1fa66f3ed1279f81e50a6d4e0e038">00640</a>   <a class="code" href="classLCM_1_1Topology.html#afda1fa66f3ed1279f81e50a6d4e0e038">getCellTopology</a>()
<a name="l00641"></a>00641   {<span class="keywordflow">return</span> <a class="code" href="classLCM_1_1Topology.html#a45516abd8d4a61af5fbb6309d382b50e">cell_topology_</a>;}
<a name="l00642"></a>00642 
<a name="l00643"></a>00643   <span class="keywordtype">size_t</span> <span class="keyword">const</span>
<a name="l00644"></a><a class="code" href="classLCM_1_1Topology.html#a576a9190e0ed0cba9f330e2d6ba2aaf8">00644</a>   <a class="code" href="classLCM_1_1Topology.html#a576a9190e0ed0cba9f330e2d6ba2aaf8">getSpaceDimension</a>() {<span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(<a class="code" href="classLCM_1_1Topology.html#a932b79a5e26762e7d3b9eb06be24d6fe">getSTKMeshStruct</a>()-&gt;numDim);}
<a name="l00645"></a>00645 
<a name="l00646"></a>00646   <a class="code" href="namespaceAAdapt.html#a3c520a41b4eeda67a27eaa620a369bc4">EntityRank</a> <span class="keyword">const</span>
<a name="l00647"></a><a class="code" href="classLCM_1_1Topology.html#a49a73f1a52421551017fd645661339a4">00647</a>   <a class="code" href="classLCM_1_1Topology.html#a49a73f1a52421551017fd645661339a4">getCellRank</a>() {<span class="keywordflow">return</span> <a class="code" href="classLCM_1_1Topology.html#aac2c5cb92e57e62da886f2a866ce1f9f">getMetaData</a>()-&gt;element_rank();}
<a name="l00648"></a>00648 
<a name="l00649"></a>00649   <a class="code" href="namespaceAAdapt.html#a3c520a41b4eeda67a27eaa620a369bc4">EntityRank</a> <span class="keyword">const</span>
<a name="l00650"></a><a class="code" href="classLCM_1_1Topology.html#a31375f58aeaf6d5dc68148efc6407a1a">00650</a>   <a class="code" href="classLCM_1_1Topology.html#a31375f58aeaf6d5dc68148efc6407a1a">getBoundaryRank</a>()
<a name="l00651"></a>00651   {
<a name="l00652"></a>00652     assert(<a class="code" href="classLCM_1_1Topology.html#a49a73f1a52421551017fd645661339a4">getCellRank</a>() &gt; 0);
<a name="l00653"></a>00653     <span class="keywordflow">return</span> <a class="code" href="classLCM_1_1Topology.html#a49a73f1a52421551017fd645661339a4">getCellRank</a>() - 1;
<a name="l00654"></a>00654   }
<a name="l00655"></a>00655 
<a name="l00656"></a>00656   <a class="code" href="namespaceLCM.html#aff0858043da581f63b9b02785c3ff48d">IntScalarFieldType</a> &amp;
<a name="l00657"></a><a class="code" href="classLCM_1_1Topology.html#a3b8e665de212509ad594593ff4d29f51">00657</a>   <a class="code" href="classLCM_1_1Topology.html#a3b8e665de212509ad594593ff4d29f51">getFractureState</a>()
<a name="l00658"></a>00658   {<span class="keywordflow">return</span> *(<a class="code" href="classLCM_1_1Topology.html#a1798682c2f2aec779ec38f4322ce7694">stk_mesh_struct_</a>-&gt;getFieldContainer()-&gt;getFractureState());}
<a name="l00659"></a>00659 
<a name="l00660"></a>00660   <span class="keywordtype">void</span>
<a name="l00661"></a><a class="code" href="classLCM_1_1Topology.html#a9e4a1df69854115df25e3f557ef80572">00661</a>   <a class="code" href="classLCM_1_1Topology.html#a9e4a1df69854115df25e3f557ef80572">setFractureCriterion</a>(RCP&lt;AbstractFractureCriterion&gt; <span class="keyword">const</span> &amp; fc)
<a name="l00662"></a>00662   {<a class="code" href="classLCM_1_1Topology.html#a44ffb1f2eb3c3e850578e732202750a4" title="Pointer to failure criterion object.">fracture_criterion_</a> = fc;}
<a name="l00663"></a>00663 
<a name="l00664"></a>00664   RCP&lt;AbstractFractureCriterion&gt; &amp;
<a name="l00665"></a><a class="code" href="classLCM_1_1Topology.html#a26947a688405377a4b4e83cd714ae832">00665</a>   <a class="code" href="classLCM_1_1Topology.html#a26947a688405377a4b4e83cd714ae832">getFractureCriterion</a>()
<a name="l00666"></a>00666   {<span class="keywordflow">return</span> <a class="code" href="classLCM_1_1Topology.html#a44ffb1f2eb3c3e850578e732202750a4" title="Pointer to failure criterion object.">fracture_criterion_</a>;}
<a name="l00667"></a>00667 
<a name="l00668"></a>00668   <span class="keywordtype">bool</span>
<a name="l00669"></a><a class="code" href="classLCM_1_1Topology.html#abdd6f4b493f4e2dbf7deb63b42827aa7">00669</a>   <a class="code" href="classLCM_1_1Topology.html#abdd6f4b493f4e2dbf7deb63b42827aa7">isLocalEntity</a>(<a class="code" href="BoundarySurfaceOutput_8cc.html#a5f3c53a4de5232e082c5b3733a9c7e98">Entity</a> <span class="keyword">const</span> &amp; e)
<a name="l00670"></a>00670   {<span class="keywordflow">return</span> <a class="code" href="classLCM_1_1Topology.html#a2815597abf79614b33140abb00dcc8c0">getBulkData</a>()-&gt;parallel_rank() == e.owner_rank();}
<a name="l00671"></a>00671 
<a name="l00672"></a>00672   <span class="comment">//</span>
<a name="l00673"></a>00673   <span class="comment">// Set fracture state. Do nothing for cells (elements).</span>
<a name="l00674"></a>00674   <span class="comment">//</span>
<a name="l00675"></a>00675   <span class="keywordtype">void</span>
<a name="l00676"></a><a class="code" href="classLCM_1_1Topology.html#afd7d759cad848c416b847b14167a8c4e">00676</a>   <a class="code" href="classLCM_1_1Topology.html#afd7d759cad848c416b847b14167a8c4e">setFractureState</a>(<a class="code" href="BoundarySurfaceOutput_8cc.html#a5f3c53a4de5232e082c5b3733a9c7e98">Entity</a> <span class="keyword">const</span> &amp; e, <a class="code" href="namespaceLCM.html#a5f1bf1449250e7ed2c00c8885ccb26b8">FractureState</a> <span class="keyword">const</span> fs)
<a name="l00677"></a>00677   {
<a name="l00678"></a>00678     <span class="keywordflow">if</span> (e.entity_rank() &lt; <a class="code" href="classLCM_1_1Topology.html#a49a73f1a52421551017fd645661339a4">getCellRank</a>()) {
<a name="l00679"></a>00679       *(stk::mesh::field_data(<a class="code" href="classLCM_1_1Topology.html#a3b8e665de212509ad594593ff4d29f51">getFractureState</a>(), e)) = static_cast&lt;int&gt;(fs);
<a name="l00680"></a>00680     }
<a name="l00681"></a>00681   }
<a name="l00682"></a>00682 
<a name="l00683"></a>00683   <span class="comment">//</span>
<a name="l00684"></a>00684   <span class="comment">// Get fracture state. Return CLOSED for cells (elements).</span>
<a name="l00685"></a>00685   <span class="comment">//</span>
<a name="l00686"></a>00686   <a class="code" href="namespaceLCM.html#a5f1bf1449250e7ed2c00c8885ccb26b8">FractureState</a>
<a name="l00687"></a><a class="code" href="classLCM_1_1Topology.html#ab9b8e7a9bd5e70939ceb2c97feb0f0b8">00687</a>   <a class="code" href="classLCM_1_1Topology.html#a3b8e665de212509ad594593ff4d29f51">getFractureState</a>(<a class="code" href="BoundarySurfaceOutput_8cc.html#a5f3c53a4de5232e082c5b3733a9c7e98">Entity</a> <span class="keyword">const</span> &amp; e)
<a name="l00688"></a>00688   {
<a name="l00689"></a>00689     <span class="keywordflow">return</span> e.entity_rank() &gt;= <a class="code" href="classLCM_1_1Topology.html#a49a73f1a52421551017fd645661339a4">getCellRank</a>() ?
<a name="l00690"></a>00690     <a class="code" href="namespaceLCM.html#a5f1bf1449250e7ed2c00c8885ccb26b8ad7e8b5f43899ad156c99fe533edd7c54">CLOSED</a> :
<a name="l00691"></a>00691     <span class="keyword">static_cast&lt;</span><a class="code" href="namespaceLCM.html#a5f1bf1449250e7ed2c00c8885ccb26b8">FractureState</a><span class="keyword">&gt;</span>(*(stk::mesh::field_data(<a class="code" href="classLCM_1_1Topology.html#a3b8e665de212509ad594593ff4d29f51">getFractureState</a>(), e)));
<a name="l00692"></a>00692   }
<a name="l00693"></a>00693 
<a name="l00694"></a>00694   <span class="keywordtype">bool</span>
<a name="l00695"></a><a class="code" href="classLCM_1_1Topology.html#a9f6e184e3b4ac3a3399049be102d20d1">00695</a>   <a class="code" href="classLCM_1_1Topology.html#a9f6e184e3b4ac3a3399049be102d20d1">isInternal</a>(<a class="code" href="BoundarySurfaceOutput_8cc.html#a5f3c53a4de5232e082c5b3733a9c7e98">Entity</a> <span class="keyword">const</span> &amp; e) {
<a name="l00696"></a>00696 
<a name="l00697"></a>00697     assert(e.entity_rank() == <a class="code" href="classLCM_1_1Topology.html#a31375f58aeaf6d5dc68148efc6407a1a">getBoundaryRank</a>());
<a name="l00698"></a>00698 
<a name="l00699"></a>00699     PairIterRelation
<a name="l00700"></a>00700     relations = <a class="code" href="namespaceLCM.html#aa501e9cb3f110cc2a511ccb33449517f" title="Iterators to relations one level up.">relations_one_up</a>(e);
<a name="l00701"></a>00701 
<a name="l00702"></a>00702     <span class="keywordtype">size_t</span> <span class="keyword">const</span>
<a name="l00703"></a>00703     number_in_edges = <a class="code" href="AAdapt__STKUnifSizeField_8cpp.html#a97b9b783cb5739b02598f16a8dc0124a">std::distance</a>(relations.begin(), relations.end());
<a name="l00704"></a>00704 
<a name="l00705"></a>00705     assert(number_in_edges == 1 || number_in_edges == 2);
<a name="l00706"></a>00706 
<a name="l00707"></a>00707     <span class="keywordflow">return</span> number_in_edges == 2;
<a name="l00708"></a>00708   }
<a name="l00709"></a>00709 
<a name="l00710"></a>00710   <span class="keywordtype">bool</span>
<a name="l00711"></a><a class="code" href="classLCM_1_1Topology.html#aa19cfc8c3d79a3219808b8ee01162272">00711</a>   <a class="code" href="classLCM_1_1Topology.html#aa19cfc8c3d79a3219808b8ee01162272">isOpen</a>(<a class="code" href="BoundarySurfaceOutput_8cc.html#a5f3c53a4de5232e082c5b3733a9c7e98">Entity</a> <span class="keyword">const</span> &amp; e) {
<a name="l00712"></a>00712     <span class="keywordflow">return</span> <a class="code" href="classLCM_1_1Topology.html#a3b8e665de212509ad594593ff4d29f51">getFractureState</a>(e) == OPEN;
<a name="l00713"></a>00713   }
<a name="l00714"></a>00714 
<a name="l00715"></a>00715   <span class="keywordtype">bool</span>
<a name="l00716"></a><a class="code" href="classLCM_1_1Topology.html#ae6a7312e3b4be430a775d95c99250464">00716</a>   <a class="code" href="classLCM_1_1Topology.html#ae6a7312e3b4be430a775d95c99250464">isInternalAndOpen</a>(<a class="code" href="BoundarySurfaceOutput_8cc.html#a5f3c53a4de5232e082c5b3733a9c7e98">Entity</a> <span class="keyword">const</span> &amp; e) {
<a name="l00717"></a>00717     <span class="keywordflow">return</span> <a class="code" href="classLCM_1_1Topology.html#a9f6e184e3b4ac3a3399049be102d20d1">isInternal</a>(e) == <span class="keyword">true</span> &amp;&amp; <a class="code" href="classLCM_1_1Topology.html#aa19cfc8c3d79a3219808b8ee01162272">isOpen</a>(e) == <span class="keyword">true</span>;
<a name="l00718"></a>00718   }
<a name="l00719"></a>00719 
<a name="l00720"></a>00720   <span class="keywordtype">bool</span>
<a name="l00721"></a><a class="code" href="classLCM_1_1Topology.html#afbec30322cef041a5e6a4470337087c6">00721</a>   <a class="code" href="classLCM_1_1Topology.html#afbec30322cef041a5e6a4470337087c6">checkOpen</a>(<a class="code" href="BoundarySurfaceOutput_8cc.html#a5f3c53a4de5232e082c5b3733a9c7e98">Entity</a> <span class="keyword">const</span> &amp; e)
<a name="l00722"></a>00722   {
<a name="l00723"></a>00723     <span class="keywordflow">return</span> <a class="code" href="classLCM_1_1Topology.html#a44ffb1f2eb3c3e850578e732202750a4" title="Pointer to failure criterion object.">fracture_criterion_</a>-&gt;check(e);
<a name="l00724"></a>00724   }
<a name="l00725"></a>00725 
<a name="l00729"></a>00729   <span class="keywordtype">void</span>
<a name="l00730"></a>00730   <a class="code" href="classLCM_1_1Topology.html#ac675c6f47d21121833443d427597cd96" title="Initialization of the open field for fracture.">initializeFractureState</a>();
<a name="l00731"></a>00731 
<a name="l00732"></a>00732 <span class="keyword">private</span>:
<a name="l00738"></a>00738   <span class="keywordtype">void</span>
<a name="l00739"></a>00739   <a class="code" href="classLCM_1_1Topology.html#a1732ed8a338c11ff70171709d5963d91" title="Create Albany discretization.">createDiscretization</a>();
<a name="l00740"></a>00740 
<a name="l00744"></a>00744   <span class="keywordtype">void</span>
<a name="l00745"></a>00745   <a class="code" href="classLCM_1_1Topology.html#a3742740f67804dd6131ab4c62033bd38" title="Assigns Ids to new nodes (not comptabile with STK) FIXME check this method.">setHighestIds</a>();
<a name="l00746"></a>00746 
<a name="l00747"></a>00747   <span class="comment">//</span>
<a name="l00748"></a>00748   <span class="comment">//</span>
<a name="l00749"></a><a class="code" href="classLCM_1_1Topology.html#a789cd6a9d19d7e4522bb20410f62c31d">00749</a>   RCP&lt;Albany::AbstractDiscretization&gt; <a class="code" href="classLCM_1_1Topology.html#a789cd6a9d19d7e4522bb20410f62c31d">discretization_</a>;
<a name="l00750"></a>00750 
<a name="l00751"></a><a class="code" href="classLCM_1_1Topology.html#a1798682c2f2aec779ec38f4322ce7694">00751</a>   RCP&lt;Albany::AbstractSTKMeshStruct&gt; <a class="code" href="classLCM_1_1Topology.html#a1798682c2f2aec779ec38f4322ce7694">stk_mesh_struct_</a>;
<a name="l00752"></a>00752 
<a name="l00753"></a><a class="code" href="classLCM_1_1Topology.html#ae22935323828bfca5f2cfc0373bcf53f">00753</a>   std::vector&lt;EntityVector&gt; <a class="code" href="classLCM_1_1Topology.html#ae22935323828bfca5f2cfc0373bcf53f">connectivity_temp_</a>;
<a name="l00754"></a>00754 
<a name="l00755"></a><a class="code" href="classLCM_1_1Topology.html#a0753907891dbf05b80b7dad7db1363c8">00755</a>   std::map&lt;int, int&gt; <a class="code" href="classLCM_1_1Topology.html#a0753907891dbf05b80b7dad7db1363c8">element_global_to_local_ids_</a>;
<a name="l00756"></a>00756 
<a name="l00757"></a><a class="code" href="classLCM_1_1Topology.html#a915360f38a0486bd79b8ff6946873d89">00757</a>   std::set&lt;EntityPair&gt; <a class="code" href="classLCM_1_1Topology.html#a915360f38a0486bd79b8ff6946873d89">fractured_faces_</a>;
<a name="l00758"></a>00758 
<a name="l00759"></a><a class="code" href="classLCM_1_1Topology.html#ac2527b08497755961ac9d369da583583">00759</a>   std::vector&lt;int&gt; <a class="code" href="classLCM_1_1Topology.html#ac2527b08497755961ac9d369da583583">highest_ids_</a>;
<a name="l00760"></a>00760 
<a name="l00764"></a><a class="code" href="classLCM_1_1Topology.html#a45516abd8d4a61af5fbb6309d382b50e">00764</a>   shards::CellTopology <a class="code" href="classLCM_1_1Topology.html#a45516abd8d4a61af5fbb6309d382b50e">cell_topology_</a>;
<a name="l00765"></a>00765 
<a name="l00767"></a><a class="code" href="classLCM_1_1Topology.html#a44ffb1f2eb3c3e850578e732202750a4">00767</a>   RCP&lt;AbstractFractureCriterion&gt; <a class="code" href="classLCM_1_1Topology.html#a44ffb1f2eb3c3e850578e732202750a4" title="Pointer to failure criterion object.">fracture_criterion_</a>;
<a name="l00768"></a>00768 
<a name="l00769"></a>00769 <span class="keyword">protected</span>:
<a name="l00773"></a>00773   <a class="code" href="classLCM_1_1Topology.html#a7a26ac8bb4ca92a186efac49f2e23c97" title="Hide default constructor for Topology.">Topology</a>();
<a name="l00774"></a>00774 };
<a name="l00775"></a>00775 <span class="comment">// class Topology</span>
<a name="l00776"></a>00776 
<a name="l00777"></a>00777 }<span class="comment">// namespace LCM</span>
<a name="l00778"></a>00778 
<a name="l00779"></a>00779 <span class="preprocessor">#endif // LCM_Topology_Topology_h</span>
</pre></div></div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Wed Mar 26 2014 18:36:45 for Albany: a Trilinos-based PDE code by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
