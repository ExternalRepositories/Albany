<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Albany: a Trilinos-based PDE code: AAdapt_ThyraAdaptiveModelEvaluator.hpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<h1>AAdapt_ThyraAdaptiveModelEvaluator.hpp</h1>  </div>
</div>
<div class="contents">
<a href="AAdapt__ThyraAdaptiveModelEvaluator_8hpp.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">//*****************************************************************//</span>
<a name="l00002"></a>00002 <span class="comment">//    Albany 2.0:  Copyright 2012 Sandia Corporation               //</span>
<a name="l00003"></a>00003 <span class="comment">//    This Software is released under the BSD license detailed     //</span>
<a name="l00004"></a>00004 <span class="comment">//    in the file &quot;license.txt&quot; in the top-level Albany directory  //</span>
<a name="l00005"></a>00005 <span class="comment">//*****************************************************************//</span>
<a name="l00006"></a>00006 
<a name="l00007"></a>00007 <span class="preprocessor">#ifndef AADAPT_THYRA_EPETRA_MODEL_EVALUATOR_HPP</span>
<a name="l00008"></a>00008 <span class="preprocessor"></span><span class="preprocessor">#define AADAPT_THYRA_EPETRA_MODEL_EVALUATOR_HPP</span>
<a name="l00009"></a>00009 <span class="preprocessor"></span>
<a name="l00010"></a>00010 <span class="preprocessor">#include &quot;Thyra_EpetraModelEvaluator.hpp&quot;</span>
<a name="l00011"></a>00011 
<a name="l00012"></a>00012 <span class="keyword">namespace </span>AAdapt {
<a name="l00013"></a>00013 
<a name="l00024"></a><a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html">00024</a> <span class="keyword">class </span><a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html" title="Concrete Adapter subclass that takes an EpetraExt::ModelEvaluator object and wraps it as a AAdapt::Th...">ThyraAdaptiveModelEvaluator</a>
<a name="l00025"></a>00025   : <span class="keyword">public</span> Thyra::EpetraModelEvaluator
<a name="l00026"></a>00026 {
<a name="l00027"></a>00027 <span class="keyword">public</span>:
<a name="l00028"></a>00028 
<a name="l00031"></a>00031 
<a name="l00033"></a>00033   <a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#a96ffbaf78c56b689e5be55cb613b665e" title=".">ThyraAdaptiveModelEvaluator</a>();
<a name="l00034"></a>00034 
<a name="l00036"></a>00036   <a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#a96ffbaf78c56b689e5be55cb613b665e" title=".">ThyraAdaptiveModelEvaluator</a>(
<a name="l00037"></a>00037     <span class="keyword">const</span> Teuchos::RCP&lt;const EpetraExt::ModelEvaluator&gt; &amp;epetraModel,
<a name="l00038"></a>00038     <span class="keyword">const</span> Teuchos::RCP&lt;Thyra::LinearOpWithSolveFactoryBase&lt;double&gt; &gt; &amp;W_factory
<a name="l00039"></a>00039     );
<a name="l00040"></a>00040 
<a name="l00042"></a>00042   <span class="keywordtype">void</span> <a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#a5fef5dcd703ef1a92d43d3299cdea7eb" title=".">initialize</a>(
<a name="l00043"></a>00043     <span class="keyword">const</span> Teuchos::RCP&lt;const EpetraExt::ModelEvaluator&gt; &amp;epetraModel,
<a name="l00044"></a>00044     <span class="keyword">const</span> Teuchos::RCP&lt;Thyra::LinearOpWithSolveFactoryBase&lt;double&gt; &gt; &amp;W_factory
<a name="l00045"></a>00045     );
<a name="l00046"></a>00046 
<a name="l00048"></a>00048   Teuchos::RCP&lt;const EpetraExt::ModelEvaluator&gt; <a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#a7a8b93de949a72693d1ae1bc3a697c07" title=".">getEpetraModel</a>() <span class="keyword">const</span>;
<a name="l00049"></a>00049 
<a name="l00055"></a>00055   <span class="keywordtype">void</span> <a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#a3e148c30387666688f92b0d9f15c8c78" title="Set the nominal values.">setNominalValues</a>( <span class="keyword">const</span> Thyra::ModelEvaluatorBase::InArgs&lt;double&gt;&amp; nominalValues );
<a name="l00056"></a>00056   
<a name="l00064"></a>00064   <span class="keywordtype">void</span> <a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#acfd61222e6db6d9e0b94a9b9f820dcc3" title="Set the state variable scaling vector s_x (see above).">setStateVariableScalingVec</a>(
<a name="l00065"></a>00065     <span class="keyword">const</span> Teuchos::RCP&lt;const Epetra_Vector&gt; &amp;stateVariableScalingVec
<a name="l00066"></a>00066     );
<a name="l00067"></a>00067   
<a name="l00070"></a>00070   Teuchos::RCP&lt;const Epetra_Vector&gt;
<a name="l00071"></a>00071   <a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#abc8b56d5ef3fa8d735b0ab22d2da5423" title="Get the state variable scaling vector s_x (see above).">getStateVariableInvScalingVec</a>() <span class="keyword">const</span>;
<a name="l00072"></a>00072   
<a name="l00075"></a>00075   Teuchos::RCP&lt;const Epetra_Vector&gt;
<a name="l00076"></a>00076   <a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#a98f5c81c853026a7df948b0a2174e3df" title="Get the inverse state variable scaling vector inv_s_x (see above).">getStateVariableScalingVec</a>() <span class="keyword">const</span>;
<a name="l00077"></a>00077   
<a name="l00080"></a>00080   <span class="keywordtype">void</span> <a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#acbc570b9b0eae962e7be55f496e4f27e" title="Set the state function scaling vector s_f (see above).">setStateFunctionScalingVec</a>(
<a name="l00081"></a>00081     <span class="keyword">const</span> Teuchos::RCP&lt;const Epetra_Vector&gt; &amp;stateFunctionScalingVec
<a name="l00082"></a>00082     );
<a name="l00083"></a>00083   
<a name="l00086"></a>00086   Teuchos::RCP&lt;const Epetra_Vector&gt;
<a name="l00087"></a>00087   <a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#a5246bcd6491b0dc549407cf2af2e5a76" title="Get the state function scaling vector s_f (see above).">getStateFunctionScalingVec</a>() <span class="keyword">const</span>;
<a name="l00088"></a>00088 
<a name="l00090"></a>00090   <span class="keywordtype">void</span> <a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#a8a1e49433d3c0eac3bf9108e6697d4fb" title=".">uninitialize</a>(
<a name="l00091"></a>00091     Teuchos::RCP&lt;const EpetraExt::ModelEvaluator&gt; *epetraModel = NULL,
<a name="l00092"></a>00092     Teuchos::RCP&lt;Thyra::LinearOpWithSolveFactoryBase&lt;double&gt; &gt; *W_factory = NULL
<a name="l00093"></a>00093     );
<a name="l00094"></a>00094   
<a name="l00096"></a>00096   <span class="keyword">const</span> Thyra::ModelEvaluatorBase::InArgs&lt;double&gt;&amp; <a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#ad29b0bcc87fd53edf6bb7f772cf399d7" title=".">getFinalPoint</a>() <span class="keyword">const</span>;
<a name="l00097"></a>00097 
<a name="l00099"></a>00099   <span class="keywordtype">bool</span> <a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#a0d55b70ab795f35b5ad5f1cfa4f8bf93" title=".">finalPointWasSolved</a>() <span class="keyword">const</span>;
<a name="l00100"></a>00100 
<a name="l00102"></a>00102   <span class="keyword">const</span> Teuchos::RCP&lt;Thyra::VectorBase&lt;double&gt; &gt;
<a name="l00103"></a>00103     <a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#a986d87836106dcc932df8989ae49867e" title=".">resize_g_space</a>(<span class="keywordtype">int</span> index, Teuchos::RCP&lt;const Epetra_Map&gt; map);
<a name="l00104"></a>00104 
<a name="l00106"></a>00106 
<a name="l00109"></a>00109 
<a name="l00111"></a>00111   std::string <a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#a065bb5db0a4b6c55875adc90978707f2" title=".">description</a>() <span class="keyword">const</span>;
<a name="l00112"></a>00112 
<a name="l00114"></a>00114 
<a name="l00117"></a>00117 
<a name="l00119"></a>00119   <span class="keywordtype">void</span> <a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#ace422d1c26ef2de9566d22850194e3d0" title=".">setParameterList</a>(Teuchos::RCP&lt;Teuchos::ParameterList&gt; <span class="keyword">const</span>&amp; paramList);
<a name="l00121"></a>00121   Teuchos::RCP&lt;Teuchos::ParameterList&gt; <a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#ab194dc66c8a34a5bdc663e91eeffc29b" title=".">getNonconstParameterList</a>();
<a name="l00123"></a>00123   Teuchos::RCP&lt;Teuchos::ParameterList&gt; <a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#a6aa6bada0dded5ce59304654048058fb" title=".">unsetParameterList</a>();
<a name="l00125"></a>00125   Teuchos::RCP&lt;const Teuchos::ParameterList&gt; <a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#ad98becb9ed4385789b3288213592286b" title=".">getParameterList</a>() <span class="keyword">const</span>;
<a name="l00127"></a>00127   Teuchos::RCP&lt;const Teuchos::ParameterList&gt; <a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#a09215bff09efa32861459e17a84fecb8" title=".">getValidParameters</a>() <span class="keyword">const</span>;
<a name="l00128"></a>00128 
<a name="l00130"></a>00130 
<a name="l00133"></a>00133 
<a name="l00135"></a>00135   <span class="keywordtype">int</span> <a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#a8099e8e1084ba1b513a35d3129046550" title=".">Np</a>() <span class="keyword">const</span>;
<a name="l00137"></a>00137   <span class="keywordtype">int</span> <a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#aeb979b166a07585ce03131da39f85108" title=".">Ng</a>() <span class="keyword">const</span>;
<a name="l00139"></a>00139   Teuchos::RCP&lt;const Thyra::VectorSpaceBase&lt;double&gt; &gt; <a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#a0792123894ab0e35f07da80cf56c65c2" title=".">get_x_space</a>() <span class="keyword">const</span>;
<a name="l00141"></a>00141   Teuchos::RCP&lt;const Thyra::VectorSpaceBase&lt;double&gt; &gt; <a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#ae6cdbfb2def570563b2a21922a77431a" title=".">get_f_space</a>() <span class="keyword">const</span>;
<a name="l00143"></a>00143   Teuchos::RCP&lt;const Thyra::VectorSpaceBase&lt;double&gt; &gt; <a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#a63a3a3141705a8903423cc2daea3068a" title=".">get_p_space</a>(<span class="keywordtype">int</span> l) <span class="keyword">const</span>;
<a name="l00145"></a>00145   Teuchos::RCP&lt;const Teuchos::Array&lt;std::string&gt; &gt; <a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#a0a6fd3db935f93cb44971af93c7a79c4" title=".">get_p_names</a>(<span class="keywordtype">int</span> l) <span class="keyword">const</span>;
<a name="l00147"></a>00147   Teuchos::RCP&lt;const Thyra::VectorSpaceBase&lt;double&gt; &gt; <a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#a48deae321a0518817035bf3ea9d52a27" title=".">get_g_space</a>(<span class="keywordtype">int</span> j) <span class="keyword">const</span>;
<a name="l00149"></a>00149   Thyra::ModelEvaluatorBase::InArgs&lt;double&gt; <a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#a6128f6ec5c4e2b8a4aeed04c696dd4ee" title=".">getNominalValues</a>() <span class="keyword">const</span>;
<a name="l00151"></a>00151   Thyra::ModelEvaluatorBase::InArgs&lt;double&gt; <a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#a91c2f100fe55cd042b7c8beb8447bb67" title=".">getLowerBounds</a>() <span class="keyword">const</span>;
<a name="l00153"></a>00153   Thyra::ModelEvaluatorBase::InArgs&lt;double&gt; <a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#ae95a88137fa4840751da83d07b34d878" title=".">getUpperBounds</a>() <span class="keyword">const</span>;
<a name="l00155"></a>00155   Teuchos::RCP&lt;Thyra::LinearOpBase&lt;double&gt; &gt; <a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#a12e7aff1200e83a2a4f74a2db857befd" title=".">create_W_op</a>() <span class="keyword">const</span>;
<a name="l00157"></a>00157   Teuchos::RCP&lt;Thyra::PreconditionerBase&lt;double&gt; &gt; <a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#a57d2ab716891ddcd59bec39e6e02e8b9" title="Returns null currently.">create_W_prec</a>() <span class="keyword">const</span>;
<a name="l00159"></a>00159   Teuchos::RCP&lt;const Thyra::LinearOpWithSolveFactoryBase&lt;double&gt; &gt; <a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#a7f91a7f8c78f743e05c9d7b2101e8a0a" title=".">get_W_factory</a>() <span class="keyword">const</span>;
<a name="l00161"></a>00161   Thyra::ModelEvaluatorBase::InArgs&lt;double&gt; <a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#a00eea19814731baf3a2bb57146648a4f" title=".">createInArgs</a>() <span class="keyword">const</span>;
<a name="l00163"></a>00163   <span class="keywordtype">void</span> <a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#a8e8be9e7f9ae84058736f293af3edbe9" title=".">reportFinalPoint</a>(
<a name="l00164"></a>00164     <span class="keyword">const</span> Thyra::ModelEvaluatorBase::InArgs&lt;double&gt;      &amp;finalPoint
<a name="l00165"></a>00165     ,<span class="keyword">const</span> <span class="keywordtype">bool</span>                                   wasSolved
<a name="l00166"></a>00166     );
<a name="l00167"></a>00167 
<a name="l00169"></a>00169 
<a name="l00170"></a>00170   <span class="comment">// Made public to simplify implementation but this is harmless to be public.</span>
<a name="l00171"></a>00171   <span class="comment">// Clients should not deal with this type.</span>
<a name="l00172"></a><a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#aa68f4a350638e1332e7ee9137a1cfc05a9addc0753608275ed246238e0e9d8b7a">00172</a>   <span class="keyword">enum</span> <a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#aa68f4a350638e1332e7ee9137a1cfc05">EStateFunctionScaling</a> { STATE_FUNC_SCALING_NONE, <a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#aa68f4a350638e1332e7ee9137a1cfc05a9addc0753608275ed246238e0e9d8b7a">STATE_FUNC_SCALING_ROW_SUM</a> };
<a name="l00173"></a>00173 
<a name="l00174"></a>00174 <span class="keyword">private</span>:
<a name="l00175"></a>00175 
<a name="l00178"></a>00178 
<a name="l00180"></a>00180   Teuchos::RCP&lt;Thyra::LinearOpBase&lt;double&gt; &gt; <a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#aac7d9a6995255a1554a821946211ace2" title=".">create_DfDp_op_impl</a>(<span class="keywordtype">int</span> l) <span class="keyword">const</span>;
<a name="l00182"></a>00182   Teuchos::RCP&lt;Thyra::LinearOpBase&lt;double&gt; &gt; <a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#a222b84a4c24fa11c768054e7df110310" title=".">create_DgDx_dot_op_impl</a>(<span class="keywordtype">int</span> j) <span class="keyword">const</span>;
<a name="l00184"></a>00184   Teuchos::RCP&lt;Thyra::LinearOpBase&lt;double&gt; &gt; <a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#a079edbcd0d7dfe260e9b07b5beb61854" title=".">create_DgDx_op_impl</a>(<span class="keywordtype">int</span> j) <span class="keyword">const</span>;
<a name="l00186"></a>00186   Teuchos::RCP&lt;Thyra::LinearOpBase&lt;double&gt; &gt; <a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#acddb7986157829cdf58801446ea23a3a" title=".">create_DgDp_op_impl</a>(<span class="keywordtype">int</span> j, <span class="keywordtype">int</span> l) <span class="keyword">const</span>;
<a name="l00188"></a>00188   Thyra::ModelEvaluatorBase::OutArgs&lt;double&gt; <a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#a3fbf0af203fb328cb9c1bf9385cde142" title=".">createOutArgsImpl</a>() <span class="keyword">const</span>;
<a name="l00190"></a>00190   <span class="keywordtype">void</span> <a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#aed9962df382475753990f90d762b46ae" title=".">evalModelImpl</a>(
<a name="l00191"></a>00191     <span class="keyword">const</span> Thyra::ModelEvaluatorBase::InArgs&lt;double&gt; &amp;inArgs,
<a name="l00192"></a>00192     <span class="keyword">const</span> Thyra::ModelEvaluatorBase::OutArgs&lt;double&gt; &amp;outArgs
<a name="l00193"></a>00193     ) <span class="keyword">const</span>;
<a name="l00194"></a>00194 
<a name="l00196"></a>00196 
<a name="l00197"></a>00197 <span class="keyword">private</span>:
<a name="l00198"></a>00198 
<a name="l00199"></a>00199   <span class="comment">// ////////////////////</span>
<a name="l00200"></a>00200   <span class="comment">// Private types</span>
<a name="l00201"></a>00201 
<a name="l00202"></a><a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#a0da36c74b25b72858881dd503524b59e">00202</a>   <span class="keyword">typedef</span> Teuchos::Array&lt;Teuchos::RCP&lt;const Epetra_Map&gt; &gt; p_map_t;
<a name="l00203"></a><a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#a95bd46f1d240c46cc24cc3e2771719cb">00203</a>   <span class="keyword">typedef</span> Teuchos::Array&lt;Teuchos::RCP&lt;const Epetra_Map&gt; &gt; g_map_t;
<a name="l00204"></a><a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#a857e74c494fd7a1004589bdd1540abb4">00204</a>   <span class="keyword">typedef</span> std::vector&lt;bool&gt; p_map_is_local_t;
<a name="l00205"></a><a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#a3c25ec2538146cbc6a10ce483a745f32">00205</a>   <span class="keyword">typedef</span> std::vector&lt;bool&gt; g_map_is_local_t;
<a name="l00206"></a>00206 
<a name="l00207"></a>00207   <span class="keyword">typedef</span> Teuchos::Array&lt;Teuchos::RCP&lt;const Thyra::VectorSpaceBase&lt;double&gt; &gt; &gt;
<a name="l00208"></a><a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#ae858b8a8bb46f60064331a8253ba6662">00208</a>   p_space_t;
<a name="l00209"></a>00209   <span class="keyword">typedef</span> Teuchos::Array&lt;Teuchos::RCP&lt;const Thyra::VectorSpaceBase&lt;double&gt; &gt; &gt;
<a name="l00210"></a><a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#ad852df033613609377a3d0d5fe234376">00210</a>   g_space_t;
<a name="l00211"></a>00211 
<a name="l00212"></a>00212   <span class="comment">// /////////////////////</span>
<a name="l00213"></a>00213   <span class="comment">// Private data members</span>
<a name="l00214"></a>00214 
<a name="l00215"></a><a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#ab4af4c8cd62d19afab66f737aa37a50d">00215</a>   Teuchos::RCP&lt;const EpetraExt::ModelEvaluator&gt; <a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#ab4af4c8cd62d19afab66f737aa37a50d">epetraModel_</a>;
<a name="l00216"></a>00216 
<a name="l00217"></a><a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#a507d2fa5b602e9bcefaf4a1332a0bf16">00217</a>   Teuchos::RCP&lt;Teuchos::ParameterList&gt; <a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#a507d2fa5b602e9bcefaf4a1332a0bf16">paramList_</a>;
<a name="l00218"></a>00218 
<a name="l00219"></a><a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#a52a101deff76bb090b062f760eeecc18">00219</a>   Teuchos::RCP&lt;Thyra::LinearOpWithSolveFactoryBase&lt;double&gt; &gt; <a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#a52a101deff76bb090b062f760eeecc18">W_factory_</a>;
<a name="l00220"></a>00220 
<a name="l00221"></a><a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#a1091e6560c3206681a1295988c5c9738">00221</a>   Teuchos::RCP&lt;const Epetra_Map&gt; <a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#a1091e6560c3206681a1295988c5c9738">x_map_</a>;
<a name="l00222"></a><a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#ac400a29fa880daf0a3251fdc1430c24c">00222</a>   <a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#a0da36c74b25b72858881dd503524b59e">p_map_t</a> <a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#ac400a29fa880daf0a3251fdc1430c24c">p_map_</a>;
<a name="l00223"></a><a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#a2cc4a6ddc8ad20174d90364e544a9f9d">00223</a>   <a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#a95bd46f1d240c46cc24cc3e2771719cb">g_map_t</a> <a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#a2cc4a6ddc8ad20174d90364e544a9f9d">g_map_</a>;
<a name="l00224"></a><a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#a0948d3ca4037f990f672cd07fd1338a3">00224</a>   <a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#a857e74c494fd7a1004589bdd1540abb4">p_map_is_local_t</a> <a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#a0948d3ca4037f990f672cd07fd1338a3">p_map_is_local_</a>;
<a name="l00225"></a><a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#a08a28555e1a98c72330e36587ff7178a">00225</a>   <a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#a857e74c494fd7a1004589bdd1540abb4">p_map_is_local_t</a> <a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#a08a28555e1a98c72330e36587ff7178a">g_map_is_local_</a>;
<a name="l00226"></a><a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#aea77c1812ea611749c9e7e1a0a5599ac">00226</a>   Teuchos::RCP&lt;const Epetra_Map&gt; <a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#aea77c1812ea611749c9e7e1a0a5599ac">f_map_</a>;
<a name="l00227"></a>00227 
<a name="l00228"></a><a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#a7277bb4571cfa23d8b71749663d741d3">00228</a>   Teuchos::RCP&lt;const Thyra::VectorSpaceBase&lt;double&gt; &gt; <a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#a7277bb4571cfa23d8b71749663d741d3">x_space_</a>;
<a name="l00229"></a><a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#a7817b38743673e1a6e621ee064a468df">00229</a>   <a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#ae858b8a8bb46f60064331a8253ba6662">p_space_t</a> <a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#a7817b38743673e1a6e621ee064a468df">p_space_</a>;
<a name="l00230"></a><a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#a4dcb9b2c9305e3db8903d8e6056c057b">00230</a>   Teuchos::RCP&lt;const Thyra::VectorSpaceBase&lt;double&gt; &gt; <a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#a4dcb9b2c9305e3db8903d8e6056c057b">f_space_</a>;
<a name="l00231"></a><a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#a08f74298d8435cbd8c6716b7073f0429">00231</a>   <a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#ad852df033613609377a3d0d5fe234376">g_space_t</a> <a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#a08f74298d8435cbd8c6716b7073f0429">g_space_</a>;
<a name="l00232"></a>00232 
<a name="l00233"></a><a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#aa84ba7b31d3dc627575b24b0a56363c8">00233</a>   <span class="keyword">mutable</span> Thyra::ModelEvaluatorBase::InArgs&lt;double&gt; <a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#aa84ba7b31d3dc627575b24b0a56363c8">nominalValues_</a>;
<a name="l00234"></a><a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#a84c801426edd49ef03def88ab22e7e27">00234</a>   <span class="keyword">mutable</span> Thyra::ModelEvaluatorBase::InArgs&lt;double&gt; <a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#a84c801426edd49ef03def88ab22e7e27">lowerBounds_</a>;
<a name="l00235"></a><a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#a0b253569b86d01a2577eb3a86bc63243">00235</a>   <span class="keyword">mutable</span> Thyra::ModelEvaluatorBase::InArgs&lt;double&gt; <a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#a0b253569b86d01a2577eb3a86bc63243">upperBounds_</a>;
<a name="l00236"></a><a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#a92ca4d2be3d32458f95294e589b3099d">00236</a>   <span class="keyword">mutable</span> <span class="keywordtype">bool</span> <a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#a92ca4d2be3d32458f95294e589b3099d">nominalValuesAndBoundsAreUpdated_</a>;
<a name="l00237"></a>00237 
<a name="l00238"></a><a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#abd3e9dad86426c0b5952bc9ea1f5f35c">00238</a>   Thyra::ModelEvaluatorBase::InArgs&lt;double&gt; <a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#abd3e9dad86426c0b5952bc9ea1f5f35c">finalPoint_</a>;
<a name="l00239"></a>00239 
<a name="l00240"></a><a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#a972ab0ad7440608f5d3deaeb0d5004d2">00240</a>   <a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#aa68f4a350638e1332e7ee9137a1cfc05">EStateFunctionScaling</a> <a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#a972ab0ad7440608f5d3deaeb0d5004d2">stateFunctionScaling_</a>;
<a name="l00241"></a><a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#a8d0dd28b26631ea23e94f81395c3d1ea">00241</a>   <span class="keyword">mutable</span> Teuchos::RCP&lt;const Epetra_Vector&gt; <a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#a8d0dd28b26631ea23e94f81395c3d1ea">stateFunctionScalingVec_</a>;
<a name="l00242"></a>00242 
<a name="l00243"></a><a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#a4e3ae6a1a4403f25f718af2eb0f9fb54">00243</a>   Teuchos::RCP&lt;const Epetra_Vector&gt; <a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#a4e3ae6a1a4403f25f718af2eb0f9fb54">stateVariableScalingVec_</a>; <span class="comment">// S_x</span>
<a name="l00244"></a><a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#a17d10e85775c84a66ed183b8c82e9e51">00244</a>   <span class="keyword">mutable</span> Teuchos::RCP&lt;const Epetra_Vector&gt; <a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#a17d10e85775c84a66ed183b8c82e9e51">invStateVariableScalingVec_</a>; <span class="comment">// inv(S_x)</span>
<a name="l00245"></a><a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#a080091e2ec065680ccb17fc9f43ff49f">00245</a>   <span class="keyword">mutable</span> EpetraExt::ModelEvaluator::InArgs <a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#a080091e2ec065680ccb17fc9f43ff49f">epetraInArgsScaling_</a>;
<a name="l00246"></a><a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#a606845977a120c02163efe367fefa7e4">00246</a>   <span class="keyword">mutable</span> EpetraExt::ModelEvaluator::OutArgs <a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#a606845977a120c02163efe367fefa7e4">epetraOutArgsScaling_</a>;
<a name="l00247"></a>00247   
<a name="l00248"></a><a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#af5b7d9fc32e4de81d272ef1c8c1ec6cd">00248</a>   <span class="keyword">mutable</span> Teuchos::RCP&lt;Epetra_Vector&gt; <a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#af5b7d9fc32e4de81d272ef1c8c1ec6cd">x_unscaled_</a>;
<a name="l00249"></a><a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#a88b4e16da70666921eea7dee14746db9">00249</a>   <span class="keyword">mutable</span> Teuchos::RCP&lt;Epetra_Vector&gt; <a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#a88b4e16da70666921eea7dee14746db9">x_dot_unscaled_</a>;
<a name="l00250"></a>00250 
<a name="l00251"></a><a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#aa529477680405fcc78073c917f06ab01">00251</a>   <span class="keyword">mutable</span> Thyra::ModelEvaluatorBase::InArgs&lt;double&gt; <a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#aa529477680405fcc78073c917f06ab01">prototypeInArgs_</a>;
<a name="l00252"></a><a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#a16fa52e85181e6d8bd3efea219386cc9">00252</a>   <span class="keyword">mutable</span> Thyra::ModelEvaluatorBase::OutArgs&lt;double&gt; <a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#a16fa52e85181e6d8bd3efea219386cc9">prototypeOutArgs_</a>;
<a name="l00253"></a><a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#a62ce7144f04d83758930bfc1455e8904">00253</a>   <span class="keyword">mutable</span> <span class="keywordtype">bool</span> <a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#a62ce7144f04d83758930bfc1455e8904">currentInArgsOutArgs_</a>;
<a name="l00254"></a>00254 
<a name="l00255"></a><a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#a91386b16ef77be7fc9b67ae14a027abd">00255</a>   <span class="keywordtype">bool</span> <a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#a91386b16ef77be7fc9b67ae14a027abd">finalPointWasSolved_</a>;
<a name="l00256"></a>00256 
<a name="l00257"></a>00257   <span class="comment">// Share the outArgs between the resize and evaluate functions</span>
<a name="l00258"></a><a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#a4c7607a866a7d9ece76cdb7abb18ca49">00258</a>   <span class="keyword">mutable</span> EpetraExt::ModelEvaluator::OutArgs <a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#a4c7607a866a7d9ece76cdb7abb18ca49">evaluated_epetraUnscaledOutArgs</a>;
<a name="l00259"></a>00259 
<a name="l00260"></a>00260   <span class="comment">// //////////////////////////</span>
<a name="l00261"></a>00261   <span class="comment">// Private member functions</span>
<a name="l00262"></a>00262 
<a name="l00264"></a>00264   <span class="keywordtype">void</span> <a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#ae43eab0dfa783b6c094405477ce29062" title=".">convertInArgsFromEpetraToThyra</a>(
<a name="l00265"></a>00265     <span class="keyword">const</span> EpetraExt::ModelEvaluator::InArgs &amp;epetraInArgs,
<a name="l00266"></a>00266     Thyra::ModelEvaluatorBase::InArgs&lt;double&gt; *inArgs
<a name="l00267"></a>00267     ) <span class="keyword">const</span>;
<a name="l00268"></a>00268 
<a name="l00270"></a>00270   <span class="keywordtype">void</span> <a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#ad31b141d4876d0e8b7cf32d97dcc585c" title=".">convertInArgsFromThyraToEpetra</a>(
<a name="l00271"></a>00271     <span class="keyword">const</span> Thyra::ModelEvaluatorBase::InArgs&lt;double&gt; &amp;inArgs,
<a name="l00272"></a>00272     EpetraExt::ModelEvaluator::InArgs *epetraInArgs
<a name="l00273"></a>00273     ) <span class="keyword">const</span>;
<a name="l00274"></a>00274 
<a name="l00276"></a>00276   <span class="keywordtype">void</span> <a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#a637bd694e117f42e4771b2aacb1491b7" title=".">convertOutArgsFromThyraToEpetra</a>(
<a name="l00277"></a>00277     <span class="comment">// Thyra form of the outArgs</span>
<a name="l00278"></a>00278     <span class="keyword">const</span> Thyra::ModelEvaluatorBase::OutArgs&lt;double&gt; &amp;outArgs,
<a name="l00279"></a>00279     <span class="comment">// Epetra form of the unscaled output arguments </span>
<a name="l00280"></a>00280     EpetraExt::ModelEvaluator::OutArgs *epetraUnscaledOutArgs,
<a name="l00281"></a>00281     <span class="comment">// The passed-in form of W</span>
<a name="l00282"></a>00282     Teuchos::RCP&lt;Thyra::LinearOpBase&lt;double&gt; &gt; *W_op,
<a name="l00283"></a>00283     Teuchos::RCP&lt;Thyra::EpetraLinearOp&gt; *efwdW,
<a name="l00284"></a>00284     <span class="comment">// The actual Epetra object passed to the underylying EpetraExt::ModelEvaluator</span>
<a name="l00285"></a>00285     Teuchos::RCP&lt;Epetra_Operator&gt; *eW
<a name="l00286"></a>00286     ) <span class="keyword">const</span>;
<a name="l00287"></a>00287 
<a name="l00289"></a>00289   <span class="keywordtype">void</span> <a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#a6feb806b4bd8762200b756d1f3697962" title=".">preEvalScalingSetup</a>(
<a name="l00290"></a>00290     EpetraExt::ModelEvaluator::InArgs *epetraInArgs,
<a name="l00291"></a>00291     EpetraExt::ModelEvaluator::OutArgs *epetraUnscaledOutArgs,
<a name="l00292"></a>00292     <span class="keyword">const</span> Teuchos::RCP&lt;Teuchos::FancyOStream&gt; &amp;out,
<a name="l00293"></a>00293     <span class="keyword">const</span> Teuchos::EVerbosityLevel verbLevel
<a name="l00294"></a>00294     ) <span class="keyword">const</span>;
<a name="l00295"></a>00295 
<a name="l00297"></a>00297   <span class="keywordtype">void</span> <a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#ada29e56806ef483d24063ab7ab50846e" title=".">postEvalScalingSetup</a>(
<a name="l00298"></a>00298     <span class="keyword">const</span> EpetraExt::ModelEvaluator::OutArgs &amp;epetraUnscaledOutArgs,
<a name="l00299"></a>00299     <span class="keyword">const</span> Teuchos::RCP&lt;Teuchos::FancyOStream&gt; &amp;out,
<a name="l00300"></a>00300     <span class="keyword">const</span> Teuchos::EVerbosityLevel verbLevel
<a name="l00301"></a>00301     ) <span class="keyword">const</span>;
<a name="l00302"></a>00302 
<a name="l00304"></a>00304   <span class="keywordtype">void</span> <a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#a9a44ece1a12ddbd09856487f2bc4756d" title=".">finishConvertingOutArgsFromEpetraToThyra</a>(
<a name="l00305"></a>00305     <span class="keyword">const</span> EpetraExt::ModelEvaluator::OutArgs &amp;epetraOutArgs,
<a name="l00306"></a>00306     Teuchos::RCP&lt;Thyra::LinearOpBase&lt;double&gt; &gt; &amp;W_op,
<a name="l00307"></a>00307     Teuchos::RCP&lt;Thyra::EpetraLinearOp&gt; &amp;efwdW,
<a name="l00308"></a>00308     Teuchos::RCP&lt;Epetra_Operator&gt; &amp;eW,
<a name="l00309"></a>00309     <span class="keyword">const</span> Thyra::ModelEvaluatorBase::OutArgs&lt;double&gt; &amp;outArgs <span class="comment">// Output!</span>
<a name="l00310"></a>00310     ) <span class="keyword">const</span>;
<a name="l00311"></a>00311   <span class="comment">// 2007/08/03: rabartl: Above, I pass many of the RCP objects by non-const</span>
<a name="l00312"></a>00312   <span class="comment">// reference since I don&#39;t want the compiler to perform any implicit</span>
<a name="l00313"></a>00313   <span class="comment">// conversions on this RCP objects.</span>
<a name="l00314"></a>00314 
<a name="l00316"></a>00316   <span class="keywordtype">void</span> <a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#a30a9c30e8b09768bcc924bcce01dcda4" title=".">updateNominalValuesAndBounds</a>() <span class="keyword">const</span>;
<a name="l00317"></a>00317 
<a name="l00319"></a>00319   <span class="keywordtype">void</span> <a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#ae2dea303b6d4bed722611fb8ecea429a" title=".">updateInArgsOutArgs</a>() <span class="keyword">const</span>;
<a name="l00320"></a>00320 
<a name="l00322"></a>00322   Teuchos::RCP&lt;Thyra::EpetraLinearOp&gt; <a class="code" href="classAAdapt_1_1ThyraAdaptiveModelEvaluator.html#ada910df3336884ea15fe24a578579f19" title=".">create_epetra_W_op</a>() <span class="keyword">const</span>;
<a name="l00323"></a>00323   
<a name="l00324"></a>00324 };
<a name="l00325"></a>00325 
<a name="l00326"></a>00326 
<a name="l00327"></a>00327 
<a name="l00328"></a>00328 } <span class="comment">// namespace AAdapt</span>
<a name="l00329"></a>00329 
<a name="l00330"></a>00330 
<a name="l00331"></a>00331 <span class="preprocessor">#endif // THYRA_ADAPTIVE_MODEL_EVALUATOR_HPP</span>
</pre></div></div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Wed Mar 26 2014 18:36:35 for Albany: a Trilinos-based PDE code by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
